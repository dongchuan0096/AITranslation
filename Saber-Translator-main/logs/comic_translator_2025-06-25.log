2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 11:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:22 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:15:22 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 11:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 11:15:22 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 11:15:22 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 11:15:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 11:15:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 11:15:22 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 11:15:22 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 11:15:22 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'cv2'[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 11:15:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:56 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:15:56 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 11:15:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:15:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 11:15:56 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 11:15:56 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 11:15:56 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 11:15:56 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 11:15:56 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 11:15:56 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 11:15:57 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'manga_ocr'[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 11:16:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:44 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:16:44 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 11:16:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 11:16:44 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 11:16:44 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 11:16:44 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 11:16:44 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 11:16:44 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 11:16:44 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 11:16:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:16:51 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 11:16:51 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'PyPDF2'[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 11:17:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:08 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:17:08 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 11:17:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\生产实习\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 11:17:08 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 11:17:08 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 11:17:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 11:17:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 11:17:08 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 11:17:08 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 11:17:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:11 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 11:17:11 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 11:17:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:11 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 11:17:11 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 11:17:11 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 11:17:11 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 11:17:11 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 11:17:11 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 11:17:11 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 11:17:11 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 11:17:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:17:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:17:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:17:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:17:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:17:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:17:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:17:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:17:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:17:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:17:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:17:54 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 43.07 秒[0m
2025-06-25 11:17:54 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 11:18:15 - PDFProcessor - [32mINFO[0m - [32m开始处理 PDF 文件，共 10 页。[0m
2025-06-25 11:18:15 - PDFProcessor - [31mERROR[0m - [31m处理 PDF 页面 1 时出错: cannot write mode PA as PNG[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\PngImagePlugin.py", line 1363, in _save
    rawmode, bit_depth, color_type = _OUTMODES[outmode]
KeyError: 'PA'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\core\pdf_processor.py", line 28, in extract_images_from_pdf
    if hasattr(page, 'images') and page.images:
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PyPDF2\_page.py", line 481, in images
    extension, byte_stream = _xobj_to_image(x_object[obj])
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PyPDF2\filters.py", line 617, in _xobj_to_image
    img.save(img_byte_arr, format="PNG")
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\Image.py", line 2596, in save
    save_handler(self, fp, filename)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\PngImagePlugin.py", line 1366, in _save
    raise OSError(msg) from e
OSError: cannot write mode PA as PNG
2025-06-25 11:18:15 - PDFProcessor - [32mINFO[0m - [32mPDF 处理完成，共提取 0 张图片。[0m
2025-06-25 11:18:19 - PDFProcessor - [32mINFO[0m - [32m开始处理 PDF 文件，共 10 页。[0m
2025-06-25 11:18:20 - PDFProcessor - [31mERROR[0m - [31m处理 PDF 页面 1 时出错: cannot write mode PA as PNG[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\PngImagePlugin.py", line 1363, in _save
    rawmode, bit_depth, color_type = _OUTMODES[outmode]
KeyError: 'PA'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\core\pdf_processor.py", line 28, in extract_images_from_pdf
    if hasattr(page, 'images') and page.images:
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PyPDF2\_page.py", line 481, in images
    extension, byte_stream = _xobj_to_image(x_object[obj])
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PyPDF2\filters.py", line 617, in _xobj_to_image
    img.save(img_byte_arr, format="PNG")
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\Image.py", line 2596, in save
    save_handler(self, fp, filename)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\PIL\PngImagePlugin.py", line 1366, in _save
    raise OSError(msg) from e
OSError: cannot write mode PA as PNG
2025-06-25 11:18:20 - PDFProcessor - [32mINFO[0m - [32mPDF 处理完成，共提取 0 张图片。[0m
2025-06-25 11:23:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:23:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:23:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:23:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:23:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:23:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:24:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:24:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:24:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:24:00 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:24:00 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:24:00 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:24:00 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:24:00 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 11:24:00 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 11:24:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:24:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:24:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:27:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:27:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:27:16 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:27:16 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:27:16 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:27:16 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:27:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:16 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:27:16 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:27:16 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.07s)[0m
2025-06-25 11:27:16 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:27:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:27:18 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: True, 跳过OCR: False[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: True[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#FFFFFF, width=1[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m仅消除文字模式：不检查API和模型参数[0m
2025-06-25 11:27:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:27:59 - TranslateAPI - [32mINFO[0m - [32m仅消除文字模式或跳过翻译，处理将省略翻译步骤[0m
2025-06-25 11:27:59 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:27:59 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:27:59 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:27:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:27:59 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:27:59 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:27:59 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.08s)[0m
2025-06-25 11:27:59 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:28:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:28:19 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:28:19 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:28:20 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:28:20 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:28:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:28:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:28:20 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:28:20 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:28:20 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.06s)[0m
2025-06-25 11:28:20 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:28:21 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:28:21 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:29:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:31 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:29:31 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:29:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:34 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:29:34 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:29:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:29:36 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:29:36 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:36:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:36:40 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:36:40 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:36:40 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:36:40 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:36:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:36:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:36:41 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:36:41 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:36:41 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.06s)[0m
2025-06-25 11:36:41 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:36:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:36:42 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:37:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:37:07 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:37:07 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:37:08 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:37:08 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:37:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:37:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:37:08 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:37:08 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:37:08 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.06s)[0m
2025-06-25 11:37:08 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:37:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:37:09 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:40:02 - SessionAPI - [32mINFO[0m - [32m收到保存会话请求...[0m
2025-06-25 11:40:02 - SessionManager - [32mINFO[0m - [32m开始保存会话: 1[0m
2025-06-25 11:40:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:02 - SessionManager - [32mINFO[0m - [32m成功保存会话元数据: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\data\sessions\1\session_meta.json[0m
2025-06-25 11:40:02 - SessionManager - [32mINFO[0m - [32m会话 '1' 已成功保存到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\data\sessions\1[0m
2025-06-25 11:40:02 - SessionAPI - [32mINFO[0m - [32mAPI: 会话 '1' 保存成功。[0m
2025-06-25 11:40:09 - SessionAPI - [32mINFO[0m - [32m收到列出所有会话请求...[0m
2025-06-25 11:40:09 - SessionManager - [32mINFO[0m - [32m开始列出已保存的会话...[0m
2025-06-25 11:40:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:09 - SessionManager - [32mINFO[0m - [32m找到 1 个有效会话。[0m
2025-06-25 11:40:09 - SessionAPI - [32mINFO[0m - [32mAPI: 成功获取到 1 个会话。[0m
2025-06-25 11:40:11 - SessionAPI - [32mINFO[0m - [32m收到加载会话请求: name='1'[0m
2025-06-25 11:40:11 - SessionManager - [32mINFO[0m - [32m开始加载会话: 1[0m
2025-06-25 11:40:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:11 - SessionManager - [32mINFO[0m - [32m成功加载会话元数据: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\data\sessions\1\session_meta.json[0m
2025-06-25 11:40:11 - SessionManager - [32mINFO[0m - [32m会话 '1' 加载完成，共加载 1 张图片状态。[0m
2025-06-25 11:40:11 - SessionAPI - [32mINFO[0m - [32mAPI: 会话 '1' 加载成功。[0m
2025-06-25 11:40:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 11:40:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 11:40:13 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 11:40:13 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 11:40:13 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 11:40:13 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 11:40:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main[0m
2025-06-25 11:40:13 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 权重文件未找到: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 11:40:13 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 11:40:13 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.07s)[0m
2025-06-25 11:40:13 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 11:40:15 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 11:40:15 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\生产实习\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 12:01:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:15 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 仓库目录未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master[0m
2025-06-25 12:01:15 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 12:01:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:15 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 12:01:15 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 12:01:15 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 12:01:15 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 12:01:15 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 12:01:15 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 12:01:15 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 12:01:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:19 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 12:01:19 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 12:01:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:19 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 12:01:19 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 12:01:19 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 12:01:19 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 12:01:19 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 12:01:19 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 12:01:19 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 12:01:19 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 12:01:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:01:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:01:20 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:01:20 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:01:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:01:20 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:01:20 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:01:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:01:20 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:01:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:01:33 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 14.85 秒[0m
2025-06-25 12:01:33 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:02:00 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:04:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:04:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:04:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:04:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:04:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:04:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:04:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:04:54 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:05:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 12:05:11 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 12:05:11 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 12:05:12 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 12:05:12 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 12:05:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:05:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:05:12 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 仓库目录未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master[0m
2025-06-25 12:05:12 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 12:05:12 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.08s)[0m
2025-06-25 12:05:12 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 12:05:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:05:13 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:08:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 12:08:50 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 12:08:50 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 12:08:50 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 12:08:50 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 12:08:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:50 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 仓库目录未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master[0m
2025-06-25 12:08:50 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 12:08:50 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.07s)[0m
2025-06-25 12:08:50 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 12:08:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:08:51 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:08:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:08:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:08:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:08:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:08:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:08:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:08:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:08:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:08:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 12:08:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 12:08:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:09:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 12:09:30 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 12:09:30 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 12:09:30 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 12:09:30 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 12:09:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:30 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 仓库目录未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master[0m
2025-06-25 12:09:30 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 12:09:30 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.07s)[0m
2025-06-25 12:09:30 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 12:09:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:09:31 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:09:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 12:09:57 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 12:09:57 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 12:09:57 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 12:09:57 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 12:09:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:09:57 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 12:10:13 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\hub.py", line 676, in _load_local
    model = entry(*args, **kwargs)
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-06-25 12:10:13 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 12:10:13 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 16.17s)[0m
2025-06-25 12:10:13 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 12:10:14 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:10:14 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 12:10:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 12:10:58 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 12:10:58 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 12:10:58 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 12:10:58 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 12:10:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:10:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 12:10:58 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 12:11:03 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 12:11:03 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 推理失败: not enough values to unpack (expected 4, got 3)[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 97, in detect_bubbles
    results = model(image_cv) # 执行推理
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 693, in forward
    b, ch, h, w = im.shape  # batch, channel, height, width
ValueError: not enough values to unpack (expected 4, got 3)
2025-06-25 12:11:03 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 12:11:03 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 5.48s)[0m
2025-06-25 12:11:03 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 12:11:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 12:11:05 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:49:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:49:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:49:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:49:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:49:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:49:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:49:45 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:49:45 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:49:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:49:45 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:49:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:49:50 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:49:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:49:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:50:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:50:05 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:50:06 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 13:50:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 13:50:06 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 13:50:06 - YOLOInterface - [31mERROR[0m - [31mYOLOv5 推理失败: not enough values to unpack (expected 4, got 3)[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 97, in detect_bubbles
    results = model(image_cv) # 执行推理
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\nn\modules\module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\torch\nn\modules\module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 693, in forward
    b, ch, h, w = im.shape  # batch, channel, height, width
ValueError: not enough values to unpack (expected 4, got 3)
2025-06-25 13:50:06 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 13:50:06 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.07s)[0m
2025-06-25 13:50:06 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 13:50:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:50:07 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 13:51:41 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 13:51:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:41 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 13:51:44 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 13:51:44 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 13:51:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 13:51:44 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 13:51:44 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 13:51:44 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 13:51:44 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 13:51:44 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 13:51:44 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 13:51:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:45 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 13:51:45 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 13:51:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:45 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 13:51:45 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 13:51:45 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 13:51:45 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 13:51:45 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 13:51:45 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 13:51:45 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 13:51:45 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 13:51:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:51:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:51:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:51:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:51:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:51:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:51:47 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:51:47 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:51:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 13:51:47 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 13:51:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:51:49 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 3.41 秒[0m
2025-06-25 13:51:49 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 13:51:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:52:00 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:52:01 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:52:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:52:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:52:27 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:52:27 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 13:52:27 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 13:52:27 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 13:52:28 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 1 个候选框 (阈值: 0.6)[0m
2025-06-25 13:52:28 - CoreDetection - [32mINFO[0m - [32m检测到 1 个气泡候选框。[0m
2025-06-25 13:52:28 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 1 个有效气泡坐标。[0m
2025-06-25 13:52:28 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 1 个气泡 (耗时: 0.54s)[0m
2025-06-25 13:52:28 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-06-25 13:52:28 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-06-25 13:52:28 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 1 个气泡...[0m
2025-06-25 13:52:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:29 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'うん．．．'[0m
2025-06-25 13:52:29 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.68s)[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 1[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'うん．．．'[0m
2025-06-25 13:52:29 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-06-25 13:52:29 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 1 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-06-25 13:52:29 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'うん．．．...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 13:52:43 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'うん．．．...' -> '嗯......'[0m
2025-06-25 13:52:43 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 1[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯...'[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 14.67s)[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-06-25 13:52:43 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-06-25 13:52:43 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(4096, 3066, 3), 气泡数量：1[0m
2025-06-25 13:52:44 - CoreInpainting - [33mWARNING[0m - [33m掩码黑色区域占比较高 (34.16%)，可能影响修复效果[0m
2025-06-25 13:52:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:44 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-06-25 13:52:44 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-06-25 13:52:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 1.97s)[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-06-25 13:52:45 - CoreRendering - [32mINFO[0m - [32m开始渲染 1 个气泡的文本...[0m
2025-06-25 13:52:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc (大小: 25)[0m
2025-06-25 13:52:45 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.02s)[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-06-25 13:52:45 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 18.11s[0m
2025-06-25 13:52:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:52:47 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m重渲染描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m重新渲染参数: fontSize_str=25, autoFontSize=False, textDirection=vertical, translated_text=长度: 1, bubble_coords=长度: 1, is_font_style_change=True[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m传入的干净图片数据: 长度: 7611860, 使用智能修复: False, 使用LAMA修复: False[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m所有气泡样式数据: 长度: 1[0m
2025-06-25 13:52:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m使用消除文字后的干净图片进行重新渲染[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m成功加载干净图片，尺寸: 3066x4096[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m已标记干净图片属性，将跳过修复步骤[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m提取全局文字颜色设置: #231816, 旋转角度: 0[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m收到前端传递的所有气泡样式，共 1 个[0m
2025-06-25 13:52:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m保存气泡 0 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m已将所有气泡样式保存到图像对象, 共 1 个[0m
2025-06-25 13:52:48 - TranslateAPI - [32mINFO[0m - [32m前端请求强制使用单个气泡样式，将优先使用各气泡的独立设置[0m
2025-06-25 13:52:48 - CoreRendering - [32mINFO[0m - [32m开始重新渲染，字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 大小: 25, 方向: vertical[0m
2025-06-25 13:52:48 - CoreRendering - [32mINFO[0m - [32m重渲染：使用 _clean_image 作为基础。[0m
2025-06-25 13:52:48 - CoreRendering - [32mINFO[0m - [32m使用图像预定义的气泡样式，共 1 个[0m
2025-06-25 13:52:48 - CoreRendering - [32mINFO[0m - [32m开始渲染 1 个气泡的文本...[0m
2025-06-25 13:52:48 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:54:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3065, 4096)[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:54:10 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:54:10 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 13:54:10 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 13:54:10 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 13:54:11 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 13:54:11 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 13:54:11 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.45s)[0m
2025-06-25 13:54:11 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 13:54:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:54:12 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:57:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (879, 519)[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:57:03 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:57:03 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 13:57:03 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 13:57:03 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 13:57:04 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 13:57:04 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 13:57:04 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.48s)[0m
2025-06-25 13:57:04 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 13:57:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:57:04 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:59:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:59:09 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:59:09 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 13:59:09 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 13:59:09 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 13:59:10 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 1 个候选框 (阈值: 0.6)[0m
2025-06-25 13:59:10 - CoreDetection - [32mINFO[0m - [32m检测到 1 个气泡候选框。[0m
2025-06-25 13:59:10 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 1 个有效气泡坐标。[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 1 个气泡 (耗时: 0.48s)[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-06-25 13:59:10 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-06-25 13:59:10 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 1 个气泡...[0m
2025-06-25 13:59:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:10 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'うん．．．'[0m
2025-06-25 13:59:10 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.61s)[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 1[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'うん．．．'[0m
2025-06-25 13:59:10 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-06-25 13:59:10 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 1 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-06-25 13:59:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'うん．．．...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 13:59:20 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'うん．．．...' -> '嗯......'[0m
2025-06-25 13:59:20 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 1[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯...'[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 9.97s)[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-06-25 13:59:20 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-06-25 13:59:20 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(4096, 3066, 3), 气泡数量：1[0m
2025-06-25 13:59:20 - CoreInpainting - [33mWARNING[0m - [33m掩码黑色区域占比较高 (34.16%)，可能影响修复效果[0m
2025-06-25 13:59:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:20 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-06-25 13:59:20 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-06-25 13:59:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 1.89s)[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-06-25 13:59:22 - CoreRendering - [32mINFO[0m - [32m开始渲染 1 个气泡的文本...[0m
2025-06-25 13:59:22 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.00s)[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-06-25 13:59:22 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 13.19s[0m
2025-06-25 13:59:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:59:24 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m重渲染描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m重新渲染参数: fontSize_str=25, autoFontSize=False, textDirection=vertical, translated_text=长度: 1, bubble_coords=长度: 1, is_font_style_change=True[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m传入的干净图片数据: 长度: 7611860, 使用智能修复: False, 使用LAMA修复: False[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m所有气泡样式数据: 长度: 1[0m
2025-06-25 13:59:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m使用消除文字后的干净图片进行重新渲染[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m成功加载干净图片，尺寸: 3066x4096[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m已标记干净图片属性，将跳过修复步骤[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m提取全局文字颜色设置: #231816, 旋转角度: 0[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m收到前端传递的所有气泡样式，共 1 个[0m
2025-06-25 13:59:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m保存气泡 0 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m已将所有气泡样式保存到图像对象, 共 1 个[0m
2025-06-25 13:59:25 - TranslateAPI - [32mINFO[0m - [32m前端请求强制使用单个气泡样式，将优先使用各气泡的独立设置[0m
2025-06-25 13:59:25 - CoreRendering - [32mINFO[0m - [32m开始重新渲染，字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 大小: 25, 方向: vertical[0m
2025-06-25 13:59:25 - CoreRendering - [32mINFO[0m - [32m重渲染：使用 _clean_image 作为基础。[0m
2025-06-25 13:59:25 - CoreRendering - [32mINFO[0m - [32m使用图像预定义的气泡样式，共 1 个[0m
2025-06-25 13:59:25 - CoreRendering - [32mINFO[0m - [32m开始渲染 1 个气泡的文本...[0m
2025-06-25 13:59:25 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 13:59:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3065, 4096)[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 13:59:59 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 13:59:59 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 14:00:00 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 14:00:00 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 14:00:00 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 14:00:00 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 14:00:00 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.43s)[0m
2025-06-25 14:00:00 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 14:00:02 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:00:02 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:03:20 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:03:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:20 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:03:23 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:03:23 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:03:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:03:23 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:03:23 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:03:23 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:03:23 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:03:23 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:03:23 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:03:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:25 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:03:25 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:03:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:25 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:03:25 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:03:25 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:03:25 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:03:25 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:03:25 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:03:25 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:03:25 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:03:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:03:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:03:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:03:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:03:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:03:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:03:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:03:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:03:27 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:03:27 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:03:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:03:29 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.49 秒[0m
2025-06-25 14:03:29 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:04:04 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 14:04:04 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 14:04:08 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 14:04:08 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 14:04:17 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 14:04:17 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:13:16 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:13:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:16 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:13:19 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:13:19 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:13:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:13:19 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:13:19 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:13:19 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:13:19 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:13:19 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:13:19 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:13:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:20 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:13:20 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:13:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:20 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:13:20 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:13:20 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:13:20 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:13:20 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:13:20 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:13:20 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:13:20 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:13:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:13:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:13:22 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:13:22 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:13:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:13:22 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:13:22 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:13:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:13:22 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:13:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:13:25 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.51 秒[0m
2025-06-25 14:13:25 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:13:32 - app - [31mERROR[0m - [31mException on /text_translate [GET][0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\routes.py", line 82, in text_translate
    return render_template('text_translate.html')
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: text_translate.html
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:15:37 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:15:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:37 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:15:40 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:15:40 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:15:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:15:40 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:15:40 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:15:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:15:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:15:40 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:15:40 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:41 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:15:41 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:41 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:15:41 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:15:41 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:15:41 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:15:41 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:15:41 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:15:41 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:15:41 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:15:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:15:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:15:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:15:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:15:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:15:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:15:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:15:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:15:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:15:47 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 5.65 秒[0m
2025-06-25 14:15:47 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:24:30 - TranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 14:24:30 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'Self-discipline is one of the ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 14:24:51 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'Self-discipline is one of the ...' -> '自律是一个人取得长期成功与个人成长最重要的品质，它能让人在外...'[0m
2025-06-25 14:24:51 - TranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:27:43 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:27:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:43 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:27:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:27:46 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:27:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:27:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:27:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:27:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:27:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:27:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:27:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:27:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:47 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:27:47 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:27:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:47 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:27:47 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:27:47 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:27:47 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:27:47 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:27:47 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:27:47 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:27:47 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:27:48 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:27:48 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:27:48 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:27:48 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:27:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:27:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:27:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:27:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:27:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:27:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:51 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.15 秒[0m
2025-06-25 14:27:51 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:27:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:27:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:29:30 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:29:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:30 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:29:33 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:29:33 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:29:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:29:33 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:29:33 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:29:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:29:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:29:33 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:29:33 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:29:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:34 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:29:34 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:29:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:34 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:29:34 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:29:34 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:29:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:29:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:29:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:29:34 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:29:34 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:29:50 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 15.74 秒[0m
2025-06-25 14:29:50 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:29:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:29:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:29:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:29:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:29:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:29:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:29:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:29:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:29:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:29:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:29:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:29:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:30:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:30:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:30:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:30:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:30:00 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:36:40 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:36:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:40 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:36:43 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:36:43 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:36:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:36:43 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:36:43 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:36:43 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:36:43 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:36:43 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:36:43 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:36:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:45 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:36:45 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:36:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:45 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:36:45 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:36:45 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:36:45 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:36:45 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:36:45 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:36:45 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:36:45 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:36:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:36:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:36:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:36:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:36:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:36:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:36:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:36:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:36:46 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:36:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:36:49 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.22 秒[0m
2025-06-25 14:36:49 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:39:02 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:39:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:02 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:39:05 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:39:05 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:39:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:39:05 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:39:05 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:39:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:39:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:39:05 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:39:05 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:39:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:06 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:39:06 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:39:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:06 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:39:06 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:39:06 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:39:06 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:39:06 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:39:06 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:39:06 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:39:06 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:39:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:39:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:39:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:39:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:39:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:39:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:39:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:39:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:39:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:39:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:39:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:39:11 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 5.21 秒[0m
2025-06-25 14:39:11 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:40:19 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:40:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:19 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:40:22 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:40:22 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:40:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:40:22 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:40:22 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:40:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:40:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:40:22 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:40:22 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:23 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:40:23 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:23 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:40:23 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:40:23 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:40:23 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:40:23 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:40:23 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:40:23 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:40:23 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:40:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:40:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:40:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:40:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:40:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:40:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:40:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:40:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:40:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:40:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:40:27 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.22 秒[0m
2025-06-25 14:40:27 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:40:40 - TranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 14:40:40 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'Self-discipline is one of the ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 14:41:03 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'Self-discipline is one of the ...' -> '自律是个人实现长期成功与成长的关键品质，它意味着在外部压力下...'[0m
2025-06-25 14:41:03 - TranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 14:45:15 - TranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 14:45:15 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'Technology has significantly t...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 14:45:38 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'Technology has significantly t...' -> '科技深刻改变了现代教育模式，不仅革新了学习方式，也重塑了教学...'[0m
2025-06-25 14:45:38 - TranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 14:51:52 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 14:51:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:52 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 14:51:55 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 14:51:55 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 14:51:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:55 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 14:51:55 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 14:51:55 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 14:51:55 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 14:51:55 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 14:51:55 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 14:51:55 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 14:51:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:57 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 14:51:57 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 14:51:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:51:57 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:51:57 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 14:51:57 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 14:51:57 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 14:51:57 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 14:51:57 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 14:51:57 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 14:51:57 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 14:52:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:52:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:52:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:52:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:52:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:52:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:52:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:52:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:52:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:52:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:52:13 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 16.31 秒[0m
2025-06-25 14:52:13 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 14:56:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:56:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:56:01 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:56:01 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:56:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:56:01 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:56:01 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:56:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:56:01 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:56:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:10 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:56:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 14:56:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3065, 4096)[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 14:56:17 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 14:56:17 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 14:56:18 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 14:56:18 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 14:56:18 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 0 个候选框 (阈值: 0.6)[0m
2025-06-25 14:56:18 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-06-25 14:56:18 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.54s)[0m
2025-06-25 14:56:18 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-06-25 14:56:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:56:20 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 14:56:54 - TranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 14:56:54 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'Technology has significantly t...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 14:57:07 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'Technology has significantly t...' -> '科技深刻改变了现代教育面貌，不仅革新了学习方式，也重塑了教学...'[0m
2025-06-25 14:57:07 - TranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 14:57:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:57:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:57:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:57:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 14:57:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:57:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:57:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:57:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:57:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 14:57:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 14:57:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 15:07:44 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 15:07:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:44 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 15:07:47 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 15:07:47 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 15:07:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 15:07:47 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 15:07:47 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 15:07:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 15:07:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 15:07:47 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 15:07:47 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 15:07:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:48 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 15:07:48 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 15:07:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:48 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 15:07:48 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 15:07:48 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 15:07:48 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 15:07:48 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 15:07:48 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 15:07:48 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 15:07:48 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 15:07:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:07:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:07:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:07:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:07:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:07:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:07:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:07:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:07:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:07:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:07:52 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 3.72 秒[0m
2025-06-25 15:07:52 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 15:07:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:08:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:08:06 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-06-25 15:08:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-06-25 15:08:12 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-06-25 15:08:12 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-06-25 15:08:12 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-06-25 15:08:12 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-06-25 15:08:12 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 2 个候选框 (阈值: 0.6)[0m
2025-06-25 15:08:12 - CoreDetection - [32mINFO[0m - [32m检测到 2 个气泡候选框。[0m
2025-06-25 15:08:12 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 2 个有效气泡坐标。[0m
2025-06-25 15:08:12 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 2 个气泡 (耗时: 0.47s)[0m
2025-06-25 15:08:12 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-06-25 15:08:12 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-06-25 15:08:12 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 2 个气泡...[0m
2025-06-25 15:08:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:13 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '執事にバレないようにここまで準備するのはホントに大変だっ．．．'[0m
2025-06-25 15:08:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:13 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: '今日のために最高の材料と私でも作れそうなレシピもバッチリ集めたからな！'[0m
2025-06-25 15:08:13 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.75s)[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 2[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '執事にバレないようにここまで準備するのはホントに大変だっ．．．'[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: '今日のために最高の材料と私でも作れそうなレシピもバッチリ集めたからな！'[0m
2025-06-25 15:08:13 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-06-25 15:08:13 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 2 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-06-25 15:08:13 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '執事にバレないようにここまで準備するのはホントに大変だっ．．...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 15:08:18 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '執事にバレないようにここまで準備するのはホントに大変だっ．．...' -> '为了不让管家发现，准备到这一步真的很辛苦......'[0m
2025-06-25 15:08:18 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '今日のために最高の材料と私でも作れそうなレシピもバッチリ集め...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 15:08:22 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '今日のために最高の材料と私でも作れそうなレシピもバッチリ集め...' -> '为了今天，我不仅准备了最好的材料，还收集了我能搞定的完美食谱...'[0m
2025-06-25 15:08:22 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 2[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '为了不让管家发现，准备到这一步真的很辛苦...'[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '为了今天，我不仅准备了最好的材料，还收集了我能搞定的完美食谱！'[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 9.34s)[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-06-25 15:08:22 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-06-25 15:08:22 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(4096, 3066, 3), 气泡数量：2[0m
2025-06-25 15:08:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:23 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-06-25 15:08:23 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-06-25 15:08:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 2.33s)[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-06-25 15:08:25 - CoreRendering - [32mINFO[0m - [32m开始渲染 2 个气泡的文本...[0m
2025-06-25 15:08:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:25 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc (大小: 25)[0m
2025-06-25 15:08:25 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.04s)[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-06-25 15:08:25 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 13.16s[0m
2025-06-25 15:08:27 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:08:27 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m重渲染描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m重新渲染参数: fontSize_str=25, autoFontSize=False, textDirection=vertical, translated_text=长度: 2, bubble_coords=长度: 2, is_font_style_change=True[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m传入的干净图片数据: 长度: 11159440, 使用智能修复: False, 使用LAMA修复: False[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m所有气泡样式数据: 长度: 2[0m
2025-06-25 15:08:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m使用消除文字后的干净图片进行重新渲染[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m成功加载干净图片，尺寸: 3066x4096[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m已标记干净图片属性，将跳过修复步骤[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m提取全局文字颜色设置: #231816, 旋转角度: 0[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m收到前端传递的所有气泡样式，共 2 个[0m
2025-06-25 15:08:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m保存气泡 0 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 15:08:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m保存气泡 1 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m已将所有气泡样式保存到图像对象, 共 2 个[0m
2025-06-25 15:08:28 - TranslateAPI - [32mINFO[0m - [32m前端请求强制使用单个气泡样式，将优先使用各气泡的独立设置[0m
2025-06-25 15:08:28 - CoreRendering - [32mINFO[0m - [32m开始重新渲染，字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 大小: 25, 方向: vertical[0m
2025-06-25 15:08:28 - CoreRendering - [32mINFO[0m - [32m重渲染：使用 _clean_image 作为基础。[0m
2025-06-25 15:08:28 - CoreRendering - [32mINFO[0m - [32m使用图像预定义的气泡样式，共 2 个[0m
2025-06-25 15:08:28 - CoreRendering - [32mINFO[0m - [32m开始渲染 2 个气泡的文本...[0m
2025-06-25 15:08:28 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m重渲染描边设置: enable=True, color=#ffffff, width=3[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m重新渲染参数: fontSize_str=25, autoFontSize=False, textDirection=vertical, translated_text=长度: 2, bubble_coords=长度: 2, is_font_style_change=True[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m传入的干净图片数据: 长度: 11159440, 使用智能修复: False, 使用LAMA修复: False[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m所有气泡样式数据: 长度: 2[0m
2025-06-25 15:52:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m使用消除文字后的干净图片进行重新渲染[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m成功加载干净图片，尺寸: 3066x4096[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m已标记干净图片属性，将跳过修复步骤[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m提取全局文字颜色设置: #231816, 旋转角度: 0[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m收到前端传递的所有气泡样式，共 2 个[0m
2025-06-25 15:52:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m保存气泡 0 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 15:52:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m保存气泡 1 的样式: 字号=25, 自动字号=False, 字体=C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 方向=vertical, 颜色=#231816, 旋转=0[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m已将所有气泡样式保存到图像对象, 共 2 个[0m
2025-06-25 15:52:10 - TranslateAPI - [32mINFO[0m - [32m前端请求强制使用单个气泡样式，将优先使用各气泡的独立设置[0m
2025-06-25 15:52:10 - CoreRendering - [32mINFO[0m - [32m开始重新渲染，字体: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc, 大小: 25, 方向: vertical[0m
2025-06-25 15:52:10 - CoreRendering - [32mINFO[0m - [32m重渲染：使用 _clean_image 作为基础。[0m
2025-06-25 15:52:10 - CoreRendering - [32mINFO[0m - [32m使用图像预定义的气泡样式，共 2 个[0m
2025-06-25 15:52:10 - CoreRendering - [32mINFO[0m - [32m开始渲染 2 个气泡的文本...[0m
2025-06-25 15:52:10 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-06-25 15:52:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:52:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:52:12 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:52:12 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:52:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:52:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:52:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:52:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:52:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 15:52:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 15:52:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 15:52:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 15:52:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:17:56 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:17:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:17:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:17:56 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:18:01 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:18:01 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:18:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:18:01 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:18:01 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:18:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:18:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:18:01 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:18:01 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:18:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:03 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:18:03 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:18:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:03 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:18:03 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:18:03 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:18:03 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:18:03 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:18:03 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:18:03 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:18:03 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:18:20 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 16.74 秒[0m
2025-06-25 17:18:20 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:18:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:18:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:18:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:18:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:18:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:18:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:18:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:18:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:18:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:18:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:18:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:18:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:40:58 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:40:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:40:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:40:58 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:41:01 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:41:01 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:41:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:41:01 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:41:01 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:41:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:41:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:41:01 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:41:01 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:41:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:02 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:41:02 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:41:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:02 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:41:02 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:41:02 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:41:02 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:41:02 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:41:02 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:41:02 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:41:02 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:41:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:41:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:41:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:41:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:41:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:41:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:41:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:41:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:41:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:41:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:41:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:41:06 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 3.73 秒[0m
2025-06-25 17:41:06 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:45:43 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:45:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:43 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:45:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:45:46 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:45:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:45:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:45:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:45:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:45:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:45:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:45:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:45:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:45:47 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:46:03 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:46:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:03 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:46:06 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:46:06 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:46:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:06 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:46:06 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:46:06 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:46:06 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:46:06 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:46:06 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:46:06 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:46:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:07 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:46:26 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:46:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:26 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:46:29 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:46:29 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:46:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:29 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:46:29 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:46:29 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:46:29 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:46:29 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:46:29 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:46:29 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:46:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:30 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:46:30 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:46:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:30 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:46:30 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:46:30 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:46:30 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:46:30 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:46:30 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:46:30 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:46:30 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:46:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:46:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:46:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:46:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:46:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:46:43 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:46:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:46:43 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:46:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:46:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:46:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:46:46 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 15.61 秒[0m
2025-06-25 17:46:46 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:48:47 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:48:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:47 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:48:49 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:48:49 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:48:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:48:49 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:48:49 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:48:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:48:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:48:49 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:48:49 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:48:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:51 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:48:51 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:48:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:51 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:48:51 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:48:51 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:48:51 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:48:51 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:48:51 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:48:51 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:48:51 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:48:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:48:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:48:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:48:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:48:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:48:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:48:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:48:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:48:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:48:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:48:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:48:56 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.97 秒[0m
2025-06-25 17:48:56 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:51:19 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:51:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:19 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:51:22 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:51:22 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:51:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:51:22 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:51:22 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:51:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:51:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:51:22 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:51:22 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:51:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:23 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:51:24 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:51:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:24 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:51:24 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:51:24 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:51:24 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:51:24 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:51:24 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:51:24 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:51:24 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:51:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:51:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:51:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:51:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:51:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:51:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:51:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:51:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:51:25 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:51:29 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 5.22 秒[0m
2025-06-25 17:51:29 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:53:11 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:53:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:11 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:53:13 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:53:13 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:53:13 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:53:13 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:53:13 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:53:13 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:53:13 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:53:13 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:53:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:15 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:53:15 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:53:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:15 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:53:15 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:53:15 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:53:15 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:53:15 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:53:15 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:53:15 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:53:15 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:53:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:53:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:53:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:53:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:53:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:53:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:53:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:53:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:53:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:53:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:53:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:53:20 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.87 秒[0m
2025-06-25 17:53:20 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:56:58 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:56:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:56:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:56:58 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:57:01 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:57:01 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:57:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:57:01 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:57:01 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:57:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:57:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:57:01 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:57:01 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:57:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:02 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:57:02 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:57:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:02 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:57:02 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:57:02 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:57:02 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:57:02 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:57:02 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:57:02 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:57:02 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:57:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:57:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:57:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:57:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:57:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:57:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:57:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:57:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:57:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:57:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:57:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:57:06 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 4.29 秒[0m
2025-06-25 17:57:06 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:58:52 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:58:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:52 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:58:55 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:58:55 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:58:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:55 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:58:55 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:58:55 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:58:55 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:58:55 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:58:55 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:58:55 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:58:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:56 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:58:56 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:58:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:56 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:58:56 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:58:56 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:58:56 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:58:56 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:58:56 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:58:56 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:58:56 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 17:58:58 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 17:58:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:58:58 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 17:59:01 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 17:59:01 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 17:59:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:01 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 17:59:01 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 17:59:01 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 17:59:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 17:59:01 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 17:59:01 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 17:59:01 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 17:59:02 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 5.55 秒[0m
2025-06-25 17:59:02 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 17:59:03 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:59:03 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 17:59:03 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 17:59:03 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 17:59:03 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 17:59:03 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 17:59:03 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 17:59:03 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 17:59:03 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 17:59:03 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 17:59:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:03 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 17:59:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 17:59:04 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 17:59:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:15:36 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:15:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:36 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:15:39 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:15:39 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:15:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:39 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:15:39 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:15:39 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:15:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:15:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:15:39 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:15:39 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:41 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:15:41 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:41 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:15:41 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:15:41 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:15:41 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:15:41 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:15:41 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:15:41 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:15:41 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:15:41 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:15:41 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:15:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:15:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:15:42 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:15:42 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:15:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:15:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:15:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:15:42 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:15:42 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:15:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:15:42 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:17:35 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:17:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:35 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:17:38 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:17:38 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:17:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:17:38 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:17:38 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:17:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:17:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:17:38 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:17:38 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:17:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:39 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:17:39 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:17:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:39 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:17:39 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:17:39 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:17:39 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:17:39 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:17:39 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:17:39 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:17:39 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:17:39 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:17:39 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:17:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:17:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:17:40 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:17:40 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:17:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:17:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:17:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:17:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:17:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:17:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:17:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:17:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:20:18 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:20:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:18 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:20:21 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:20:21 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:20:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:21 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:20:21 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:20:21 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:20:21 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:20:21 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:20:21 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:20:21 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:20:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:23 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:20:23 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:20:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:23 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:20:23 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:20:23 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:20:23 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:20:23 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:20:23 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:20:23 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:20:23 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:20:23 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:20:23 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:20:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:20:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:20:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:20:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:20:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:20:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:20:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:20:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:20:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:20:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:20:24 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:20:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:21:38 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:21:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:38 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:21:41 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:21:41 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:21:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:21:41 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:21:41 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:21:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:21:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:21:41 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:21:41 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:21:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:43 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:21:43 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:21:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:43 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:21:43 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:21:43 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:21:43 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:21:43 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:21:43 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:21:43 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:21:43 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:21:43 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:21:43 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:21:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:21:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:21:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:21:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:21:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:21:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:21:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:21:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:21:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:21:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:21:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:21:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:40:01 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:40:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:01 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:40:04 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:40:04 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:40:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:40:04 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:40:04 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:40:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:40:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:40:04 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:40:04 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:40:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:05 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:40:05 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:40:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:05 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:40:05 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:40:05 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:40:06 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:40:06 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:40:06 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:40:06 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:40:06 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:40:06 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:40:06 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:40:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:40:20 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:40:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:20 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:40:23 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:40:23 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:40:23 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:40:23 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:40:23 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:40:23 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:40:23 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:40:23 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:25 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:40:25 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:25 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:40:25 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:40:25 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:40:25 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:40:25 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:40:25 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:40:25 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:40:25 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:40:25 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:40:25 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:40:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:40:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:26 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:40:26 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:40:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:42:02 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:42:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:02 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:42:05 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:42:05 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:42:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:42:05 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:42:05 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:42:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:42:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:42:05 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:42:05 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:42:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:07 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:42:07 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:42:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:07 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:07 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:42:07 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:42:07 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:42:07 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:42:07 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:42:07 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:42:07 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:42:07 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:42:07 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:42:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:42:22 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:42:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:22 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:42:25 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:42:25 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:42:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:42:25 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:42:25 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:42:25 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:42:25 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:42:25 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:42:25 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:42:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:26 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:42:26 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:42:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:26 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:26 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:42:26 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:42:27 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:42:27 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:42:27 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:42:27 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:42:27 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:42:27 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:42:27 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:42:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:42:28 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:42:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:42:42 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:42:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:42 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:42:45 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:42:45 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:42:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:42:45 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:42:45 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:42:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:42:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:42:45 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:42:45 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:42:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:46 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:42:46 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:42:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:42:46 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:46 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:42:46 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:42:46 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:42:46 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:42:46 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:42:46 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:42:46 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:43:01 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 14.88 秒[0m
2025-06-25 18:43:01 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:43:11 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:43:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:11 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:43:14 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:43:14 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:43:14 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:43:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:15 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:43:15 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:43:15 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:43:15 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:43:15 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:43:15 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:43:15 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:43:16 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:43:16 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:43:16 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:43:16 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:43:16 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:43:16 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:43:16 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:43:16 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:43:16 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:43:16 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:43:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:43:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:43:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:43:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:44:01 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:44:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:01 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:44:05 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:44:05 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:44:05 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:44:05 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:44:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:44:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:44:05 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:44:05 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:44:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:06 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:44:06 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:44:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:06 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:44:06 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:44:06 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:44:06 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:44:06 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:44:06 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:44:06 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:44:06 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:44:06 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:44:06 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:44:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:44:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:44:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:44:07 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:44:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:44:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:44:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:44:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:44:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:44:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:44:08 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:44:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:58:12 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:58:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:12 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:58:16 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:58:16 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:58:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:58:16 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:58:16 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:58:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:58:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:58:16 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:58:16 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:58:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:17 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:58:17 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:58:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:17 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:58:17 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:58:17 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:58:17 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:58:17 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:58:17 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:58:17 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:58:17 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:58:17 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:58:17 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:58:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:18 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:18 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:58:43 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:58:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:43 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:58:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:58:46 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:58:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:58:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:58:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:58:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:58:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:58:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:58:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:58:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:47 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:58:47 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:58:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:47 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:58:47 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:58:47 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:58:47 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:58:47 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:58:47 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:58:47 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:58:47 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:58:48 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:58:48 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:58:48 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:58:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:58:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:58:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:58:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:59:26 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:59:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:26 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:59:30 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:59:30 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:59:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:59:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:59:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:59:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:59:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:59:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:59:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:59:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:31 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:59:31 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:59:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:31 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:59:31 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:59:31 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:59:31 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:59:31 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:59:31 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:59:31 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:59:31 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:59:31 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:59:31 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:59:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:32 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:32 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 18:59:35 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 18:59:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:35 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 18:59:38 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 18:59:38 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 18:59:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 18:59:38 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 18:59:38 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 18:59:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 18:59:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 18:59:38 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 18:59:38 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 18:59:40 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:59:40 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 18:59:40 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 18:59:40 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 18:59:40 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 18:59:40 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 18:59:40 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 18:59:40 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 18:59:40 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 18:59:40 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:40 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:40 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:40 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 18:59:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 18:59:41 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 18:59:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:00:13 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:00:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:13 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:00:16 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:00:16 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:00:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:00:16 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:00:16 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:00:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:00:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:00:16 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:00:16 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:00:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:17 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:00:18 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:00:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:18 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:00:18 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:00:18 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:00:18 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:00:18 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:00:18 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:00:18 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:00:18 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:00:18 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:00:18 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:00:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:00:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:00:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:00:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:00:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:00:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:00:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:00:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:00:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:00:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:00:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:00:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:01:53 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:01:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:53 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:01:56 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:01:56 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:01:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:01:56 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:01:56 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:01:56 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:01:56 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:01:56 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:01:56 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:57 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:01:57 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:57 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:01:57 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:01:57 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:01:57 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:01:57 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:01:58 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:01:58 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:01:58 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:01:58 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:01:58 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:01:58 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:01:58 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:01:58 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:01:58 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:01:58 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:01:58 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:01:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:01:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:01:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:01:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:01:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:01:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:01:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:01:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:01:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:01:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:01:59 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:01:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:05:17 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:05:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:17 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:05:20 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:05:20 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:05:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:20 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:20 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:05:20 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:05:20 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:05:20 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:05:20 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:05:20 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:05:20 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:05:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:21 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:05:22 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:05:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:22 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:05:22 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:05:22 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:05:22 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:05:22 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:05:22 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:05:22 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:05:22 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:05:22 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:05:22 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:05:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:23 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:23 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:05:29 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:05:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:29 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:05:32 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:05:32 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:05:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:05:32 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:05:32 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:05:32 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:05:32 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:05:32 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:05:32 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:05:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:33 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:05:33 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:05:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:33 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:05:33 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:05:33 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:05:33 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:05:33 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:05:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:05:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:05:34 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:05:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:05:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:05:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:05:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:05:34 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:05:34 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:05:34 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:05:34 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:05:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:05:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:05:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:05:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:06:50 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:06:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:50 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:06:53 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:06:53 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:06:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:06:53 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:06:53 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:06:53 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:06:53 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:06:53 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:06:53 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:06:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:55 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:06:55 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:06:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:55 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:06:55 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:06:55 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:06:55 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:06:55 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:06:55 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:06:55 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:06:55 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:06:55 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:06:55 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:06:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:06:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:06:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:06:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:06:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:06:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:06:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:06:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:06:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:06:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:06:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:06:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:07:27 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:07:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:27 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:07:30 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:07:30 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:07:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:07:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:07:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:07:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:07:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:07:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:07:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:07:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:31 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:07:31 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:07:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:31 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:07:31 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:07:31 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:07:31 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:07:32 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:07:32 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:07:32 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:07:32 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:07:32 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:07:32 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:07:32 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:07:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:07:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:07:33 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:07:33 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:07:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:07:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:07:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:07:33 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:07:33 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:07:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:07:33 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:07:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:08:38 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:08:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:38 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:08:41 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:08:41 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:08:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:08:41 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:08:41 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:08:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:08:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:08:41 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:08:41 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:08:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:42 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:08:42 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:08:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:42 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:08:42 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:08:42 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:08:42 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:08:42 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:08:42 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:08:42 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:08:42 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:08:42 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:08:42 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:08:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:44 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:44 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:08:51 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:08:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:51 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:08:54 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:08:54 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:54 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:08:54 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:08:54 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:08:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:08:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:08:54 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:08:54 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:55 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:08:55 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:55 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:08:55 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:08:55 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:08:55 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:08:55 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:08:55 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:08:55 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:08:55 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:08:55 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:08:55 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:08:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:08:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:08:57 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:08:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:10:04 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:10:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:04 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:10:07 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:10:07 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:10:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:10:07 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:10:07 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:10:07 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:10:07 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:10:07 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:10:07 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:10:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:08 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:10:08 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:10:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:08 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:10:08 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:10:08 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:10:08 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:10:08 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:10:08 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:10:08 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:10:08 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:10:08 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:10:08 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:10:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:09 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:10:12 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:10:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:12 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:10:16 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:10:16 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:10:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:10:16 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:10:16 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:10:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:10:16 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:10:16 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:10:16 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:10:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:17 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:10:17 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:10:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:17 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:10:17 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:10:17 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:10:17 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:10:17 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:10:17 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:10:17 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:10:17 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:10:17 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:10:17 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:10:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:18 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:18 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:10:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:19 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:10:19 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:10:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:27:01 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:27:01 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:27:35 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> 'Absolutely—modern life can fee...'[0m
2025-06-25 19:27:35 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:31:40 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:31:40 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:31:48 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在这个快节奏的时代，工作责任与数字干扰常令人不堪重负。走进自...'[0m
2025-06-25 19:31:48 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:34:11 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:34:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:11 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:34:14 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:34:14 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:34:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:14 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:34:14 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:34:14 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:34:14 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:34:14 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:34:14 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:34:14 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:34:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:16 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:34:16 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:34:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:16 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:34:16 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:34:16 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:34:16 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:34:16 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:34:16 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:34:16 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:34:16 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:34:16 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:34:16 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:34:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:17 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:18 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:34:25 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:34:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:25 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:34:29 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:34:29 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:34:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:29 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:34:29 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:34:29 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:34:29 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:34:29 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:34:29 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:34:29 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:34:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:30 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:34:30 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:34:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:30 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:34:30 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:34:30 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:34:30 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:34:30 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:34:30 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:34:30 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:34:30 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:34:30 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:34:30 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:34:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:31 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:31 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:34:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:31 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:31 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 19:34:32 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 19:34:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 19:35:06 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 19:35:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:06 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 19:35:09 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 19:35:09 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 19:35:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 19:35:09 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 19:35:09 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 19:35:09 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 19:35:09 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 19:35:09 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 19:35:09 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 19:35:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:11 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 19:35:11 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 19:35:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 19:35:11 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:35:11 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 19:35:11 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 19:35:11 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 19:35:11 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 19:35:11 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 19:35:11 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 19:35:11 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 19:35:11 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 19:35:11 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 19:35:14 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:35:14 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:35:25 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在快节奏的现代生活中，人们常被工作、责任和数字干扰压得喘不过...'[0m
2025-06-25 19:35:25 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:35:39 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:35:39 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:35:50 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在快节奏的现代生活中，人们常被工作、责任和数字干扰压得喘不过...'[0m
2025-06-25 19:35:50 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:36:10 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:36:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:36:21 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在快节奏的现代生活中，工作压力、责任和数字干扰常令人不堪重负...'[0m
2025-06-25 19:36:21 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:37:08 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:37:08 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:37:19 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在快节奏的现代生活中，人们常被工作、责任和数字干扰压得喘不过...'[0m
2025-06-25 19:37:19 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 19:37:25 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 19:37:25 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today’s fast-paced world, i...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 19:37:47 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today’s fast-paced world, i...' -> '在快节奏的现代生活中，工作、责任和数字干扰常让人不堪重负。走...'[0m
2025-06-25 19:37:47 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 20:02:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 20:04:10 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 20:04:15 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 20:04:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 20:04:28 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 20:06:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 23:00:06 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 23:00:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 23:33:29 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 23:33:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:29 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 23:33:33 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 23:33:33 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 23:33:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 23:33:33 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 23:33:33 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 23:33:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 23:33:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 23:33:33 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 23:33:33 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 23:33:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:35 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 23:33:35 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 23:33:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:33:35 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:33:35 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 23:33:35 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 23:33:35 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 23:33:35 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 23:33:35 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 23:33:35 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 23:33:35 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 23:33:35 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 23:33:35 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 23:35:10 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 23:35:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 23:35:34 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 在当...'[0m
2025-06-25 23:35:34 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 23:45:09 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 23:45:09 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '在当今快节奏的数字世界中，技术持续重塑我们的生活、工作和交流...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 23:45:24 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '在当今快节奏的数字世界中，技术持续重塑我们的生活、工作和交流...' -> 'detected: zh  
translation: In...'[0m
2025-06-25 23:45:24 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 23:54:16 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 23:54:16 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 23:54:41 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 在当...'[0m
2025-06-25 23:54:41 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 23:54:48 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 23:54:48 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 23:55:01 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 在当...'[0m
2025-06-25 23:55:01 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 23:55:42 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 23:55:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:42 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 23:55:45 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 23:55:45 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 23:55:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 23:55:45 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 23:55:45 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 23:55:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 23:55:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 23:55:45 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 23:55:45 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 23:55:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:46 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 23:55:46 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 23:55:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:55:46 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:55:46 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 23:55:46 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:55:46 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 23:55:46 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 23:55:47 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 23:55:47 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 23:55:47 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 23:55:47 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 23:55:47 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 23:55:47 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 23:55:47 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 23:55:47 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 23:55:47 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 23:55:47 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 23:55:47 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 23:56:18 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 23:56:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:18 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 23:56:22 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 23:56:22 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 23:56:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:22 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 23:56:22 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 23:56:22 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 23:56:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 23:56:22 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 23:56:22 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 23:56:22 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 23:56:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:23 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 23:56:23 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 23:56:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:23 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:56:23 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 23:56:23 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 23:56:23 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 23:56:23 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 23:56:23 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 23:56:23 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 23:56:23 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 23:56:42 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功(使用默认路径)。耗时: 18.52 秒[0m
2025-06-25 23:56:42 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32mPython版本: 3.9.21[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-06-25 23:56:48 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-06-25 23:56:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:48 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-06-25 23:56:51 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-06-25 23:56:51 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-06-25 23:56:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\shixi\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\plugins[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-06-25 23:56:51 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-06-25 23:56:51 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-06-25 23:56:51 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-06-25 23:56:51 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-06-25 23:56:51 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-06-25 23:56:51 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-06-25 23:56:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:52 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-06-25 23:56:52 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-06-25 23:56:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:52 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:56:52 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-06-25 23:56:52 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-06-25 23:56:52 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-06-25 23:56:53 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-06-25 23:56:53 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-06-25 23:56:53 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-06-25 23:56:53 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file[0m
2025-06-25 23:56:53 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-06-25 23:56:53 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    resolved_files = [
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 471, in <listcomp>
    _get_cache_file_to_return(path_or_repo_id, filename, cache_dir, revision) for filename in full_filenames
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 134, in _get_cache_file_to_return
    resolved_file = try_to_load_from_cache(path_or_repo_id, full_filename, cache_dir=cache_dir, revision=revision)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 106, in _inner_fn
    validate_repo_id(arg_value)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 160, in validate_repo_id
    raise HFValidationError(
huggingface_hub.errors.HFValidationError: Repo id must use alphanumeric chars or '-', '_', '.', '--' and '..' are forbidden, '-' and '.' cannot start or end the name, max length is 96: 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 359, in get_image_processor_dict
    raise OSError(
OSError: Can't load image processor for 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model'. If you were trying to load it from 'https://huggingface.co/models', make sure you don't have a local directory with the same name. Otherwise, make sure 'C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\..\..\manga_ocr_model' is the correct path to a directory containing a preprocessor_config.json file

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 424, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 961, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1068, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\huggingface_hub\file_download.py", line 1587, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 208, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\image_processing_base.py", line 340, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 266, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
  File "D:\Software\IDE\Anaconda\envs\pytorch\lib\site-packages\transformers\utils\hub.py", line 491, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-06-25 23:56:53 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-06-25 23:56:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 23:56:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 23:56:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 23:56:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 23:56:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:56:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 23:56:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 23:56:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 23:56:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 23:56:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-06-25 23:56:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-06-25 23:56:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\shixi\Saber-Translator\Saber-Translator-main[0m
2025-06-25 23:57:24 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-25 23:57:24 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-25 23:57:45 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 今日...'[0m
2025-06-25 23:57:45 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:06:19 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:06:19 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:06:51 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 今日...'[0m
2025-06-26 00:06:51 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:07:38 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:07:38 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:07:51 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> 'detected: en  
translation: 在当...'[0m
2025-06-26 00:07:51 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:10:22 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:10:22 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:10:35 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '"detected": "en"
"translation"...'[0m
2025-06-26 00:10:35 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:12:27 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:12:27 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:12:40 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:12:40 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:13:43 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:13:43 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:13:56 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:13:56 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:14:23 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:14:23 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:14:36 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:14:36 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:14:46 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:14:46 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:14:53 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:14:53 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:14:59 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:14:59 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:15:05 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:15:05 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:16:36 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:16:36 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:17:01 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:17:01 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
2025-06-26 00:18:01 - TextTranslateAPI - [32mINFO[0m - [32m开始调用translate_single_text函数进行翻译... JSON模式: False, 自定义BaseURL: 无, rpm: 0[0m
2025-06-26 00:18:01 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'In today's fast-paced digital ...' (服务商: deepseek, rpm: 无)[0m
2025-06-26 00:18:16 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'In today's fast-paced digital ...' -> '{
"detected": "en",
"translati...'[0m
2025-06-26 00:18:16 - TextTranslateAPI - [33mWARNING[0m - [33m保存模型历史时出错: save_model_info_api() takes 0 positional arguments but 2 were given[0m
