2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:32:42 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:32:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:32:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:32:42 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:32:49 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:32:49 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:32:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:32:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:32:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:32:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:32:49 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:32:49 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:32:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:32:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:32:49 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:32:49 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:32:49 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'manga_ocr'[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:33:38 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:33:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:33:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:33:38 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:33:40 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:33:40 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:33:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:33:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:33:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:33:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:33:40 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:33:40 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:33:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:33:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:33:40 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:33:40 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:33:41 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'openai'[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:34:03 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:34:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:03 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:34:06 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:34:06 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:34:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:06 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:34:06 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:34:06 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:34:06 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:34:06 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:34:06 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:34:06 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:34:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:07 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:34:07 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'PyPDF2'[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:34:30 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:34:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:30 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:34:32 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:34:32 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:34:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:32 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:34:32 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:34:32 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:34:32 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:34:32 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:34:32 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:34:32 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:34:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:33 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:34:33 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:34:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:33 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:34:33 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:34:33 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:34:33 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:34:33 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:34:33 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:34:33 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:34:34 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:34:34 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:34:38 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2025-07-01 10:34:38 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:34:47 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:34:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:47 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:34:49 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:34:49 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:34:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:34:49 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:34:49 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:34:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:34:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:34:49 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:34:49 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:34:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:50 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:34:50 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:34:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:50 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:34:50 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:34:50 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:34:50 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:34:50 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:34:50 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:34:50 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:34:51 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:34:51 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:34:51 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:34:51 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:34:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:34:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:34:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:34:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:34:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:34:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:34:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:34:58 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:34:58 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:34:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:34:58 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:34:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:35:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:35:27 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:35:52 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:36:21 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:36:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:36:24 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 10:36:24 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:36:24 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:36:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:36:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:36:24 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:36:24 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:36:24 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 10:36:24 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.03s)[0m
2025-07-01 10:36:24 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 10:36:24 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:36:25 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:36:25 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "manga_ocr", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:37:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:37:10 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:37:10 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 10:37:10 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:37:10 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:37:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:37:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:37:10 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:37:10 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:37:10 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 10:37:10 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.01s)[0m
2025-07-01 10:37:10 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 10:37:11 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:37:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:37:12 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 10:40:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:40:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:40:33 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 10:40:33 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:40:33 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:40:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:40:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:40:33 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:40:33 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:40:33 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 10:40:33 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.03s)[0m
2025-07-01 10:40:33 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 10:40:33 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:41:51 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:41:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:51 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:41:54 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:41:54 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:41:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:54 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:41:54 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:41:54 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:41:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:41:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:41:54 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:41:54 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:41:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:56 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:41:56 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:41:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:41:56 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:41:56 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:41:56 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:41:56 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:41:56 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:41:56 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:41:56 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:41:57 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:41:57 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:41:57 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:41:57 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:43:15 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:43:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:15 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:43:18 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:43:18 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:43:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:43:18 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:43:18 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:43:18 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:43:18 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:43:18 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:43:18 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:43:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:19 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:43:19 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:43:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:19 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:43:19 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:43:19 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:43:19 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:43:19 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:43:19 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:43:19 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:43:20 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:43:20 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:43:20 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:43:20 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:43:44 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:43:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:44 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:43:46 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:43:46 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:43:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:43:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:43:47 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:43:47 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:43:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:43:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:43:47 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:43:47 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:43:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:48 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:43:48 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:43:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:43:48 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:43:48 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:43:48 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:43:48 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:43:48 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:43:48 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:43:48 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:43:49 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:43:49 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:44:01 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:44:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:01 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:44:03 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:44:03 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:44:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:44:03 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:44:03 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:44:03 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:44:03 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:44:03 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:44:03 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:44:04 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: (ProtocolError('Connection aborted.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)), '(Request ID: 38ce567f-6849-4731-b606-a3c1566ff8f6)')[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 517, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 1104, in _create
    self.do_handshake()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 1382, in do_handshake
    self._sslobj.do_handshake()
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\retry.py", line 474, in increment
    raise reraise(type(error), error, _stacktrace)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 488, in _make_request
    raise new_e
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connectionpool.py", line 1093, in _validate_conn
    conn.connect()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connection.py", line 790, in connect
    sock_and_verified = _ssl_wrap_socket_and_match_hostname(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\connection.py", line 969, in _ssl_wrap_socket_and_match_hostname
    ssl_sock = ssl_wrap_socket(
               ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\ssl_.py", line 480, in ssl_wrap_socket
    ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\urllib3\util\ssl_.py", line 524, in _ssl_wrap_socket_impl
    return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 517, in wrap_socket
    return self.sslsocket_class._create(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 1104, in _create
    self.do_handshake()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\ssl.py", line 1382, in do_handshake
    self._sslobj.do_handshake()
urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 18, in __init__
    self.tokenizer = AutoTokenizer.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\auto\tokenization_auto.py", line 1049, in from_pretrained
    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\tokenization_utils_base.py", line 1957, in from_pretrained
    for template in list_repo_templates(
                    ^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 161, in list_repo_templates
    return [
           ^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 161, in <listcomp>
    return [
           ^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\hf_api.py", line 3168, in list_repo_tree
    for path_info in paginate(path=tree_url, headers=headers, params={"recursive": recursive, "expand": expand}):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_pagination.py", line 36, in paginate
    r = session.get(path, params=params, headers=headers)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\requests\sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_http.py", line 96, in send
    return super().send(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\requests\adapters.py", line 682, in send
    raise ConnectionError(err, request=request)
requests.exceptions.ConnectionError: (ProtocolError('Connection aborted.', ConnectionResetError(10054, '远程主机强迫关闭了一个现有的连接。', None, 10054, None)), '(Request ID: 38ce567f-6849-4731-b606-a3c1566ff8f6)')
2025-07-01 10:44:04 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:44:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:04 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:44:05 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:05 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:44:05 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:44:05 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:44:05 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:44:05 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:44:05 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:44:05 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:44:05 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:44:05 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:44:05 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:44:05 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:44:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:44:05 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:44:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:06 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:44:06 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:44:06 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:44:06 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 10:44:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:44:33 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 10:44:33 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:44:33 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:44:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:44:33 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:44:33 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:44:33 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 10:44:33 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.03s)[0m
2025-07-01 10:44:33 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 10:44:33 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:45:33 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:45:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:33 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:45:35 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:45:35 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:45:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:45:35 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:45:35 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:45:35 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:45:35 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:45:35 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:45:35 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:45:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:36 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:45:36 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:45:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:36 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:45:36 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:45:36 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:45:36 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:45:36 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:45:36 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:45:36 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:45:37 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:45:37 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:45:37 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:45:37 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:45:51 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:45:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:51 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:45:54 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:45:54 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:45:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:54 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:45:54 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:45:54 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:45:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:45:54 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:45:54 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:45:54 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:45:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:55 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:45:55 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:45:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:45:55 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:45:55 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:45:55 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:45:55 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:45:55 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:45:55 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:45:55 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:45:56 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:45:56 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:45:56 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:45:56 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:46:07 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:46:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:46:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:46:12 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:46:12 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 10:46:12 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:46:12 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:46:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:46:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:46:12 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:46:12 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: No module named 'seaborn'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 56, in _create
    from models.yolo import ClassificationModel, DetectionModel, SegmentationModel
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\yolo.py", line 55, in <module>
    from utils.plots import feature_visualization
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\plots.py", line 15, in <module>
    import seaborn as sn
ModuleNotFoundError: No module named 'seaborn'
2025-07-01 10:46:12 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 10:46:12 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.02s)[0m
2025-07-01 10:46:12 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 10:46:13 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:46:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:46:13 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:47:23 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:47:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:23 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:47:30 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\nn\modules\module.py", line 1152, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\nn\modules\module.py", line 1688, in __getattr__
    raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 10:47:30 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:47:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:47:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:47:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:47:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:47:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:47:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:47:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:47:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:31 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:47:31 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:47:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:31 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:47:31 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:47:31 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:47:31 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:47:31 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:47:31 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:47:31 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:47:32 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:47:32 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 10:47:44 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 10:47:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:44 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:47:45 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434
2025-07-01 10:47:45 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:47:48 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\nn\modules\module.py", line 1152, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\nn\modules\module.py", line 1688, in __getattr__
    raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 566, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 595, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 10:47:48 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 10:47:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:48 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 10:47:48 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 10:47:48 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 10:47:48 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 10:47:48 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 10:47:48 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 10:47:48 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 10:47:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:49 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 10:47:49 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 10:47:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:49 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:47:49 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 10:47:49 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:47:49 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:47:49 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 10:47:49 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:47:49 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:47:49 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:47:49 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:47:49 - MangaOCRInterface - [31mERROR[0m - [31m❌ MangaOCR 模型预加载失败。[0m
2025-07-01 10:47:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:47:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:47:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:47:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:47:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:47:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:47:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:47:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:47:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:47:56 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:47:56 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:47:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:52:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:52:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:52:45 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:52:45 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 10:52:45 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:52:45 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:52:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:45 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 10:52:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 10:52:47 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 4 个候选框 (阈值: 0.6)[0m
2025-07-01 10:52:47 - CoreDetection - [32mINFO[0m - [32m检测到 4 个气泡候选框。[0m
2025-07-01 10:52:47 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 4 个有效气泡坐标。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 4 个气泡 (耗时: 1.43s)[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 10:52:47 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-07-01 10:52:47 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:52:47 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:52:47 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:52:47 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:52:47 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:52:47 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:52:47 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:52:47 - CoreOCR - [31mERROR[0m - [31m无法初始化 MangaOCR，OCR 步骤跳过。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.07s)[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 4[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 10:52:47 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 4 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 10:52:47 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 4[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 0.01s)[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 10:52:47 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：4[0m
2025-07-01 10:52:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:47 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 10:52:47 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 10:52:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.66s)[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 10:52:47 - CoreRendering - [32mINFO[0m - [32m开始渲染 4 个气泡的文本...[0m
2025-07-01 10:52:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:52:47 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc (大小: 25)[0m
2025-07-01 10:52:47 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.02s)[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 10:52:47 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 2.23s[0m
2025-07-01 10:52:48 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:52:48 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:52:48 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:53:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:53:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:53:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:53:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:53:13 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 10:53:13 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 10:53:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "", "model_name": "", "model_provider": "siliconflow", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:53:20 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:53:54 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:53:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 10:54:01 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 10:54:01 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 10:54:01 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 10:54:01 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 10:54:01 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 10:54:02 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 8 个候选框 (阈值: 0.6)[0m
2025-07-01 10:54:02 - CoreDetection - [32mINFO[0m - [32m检测到 8 个气泡候选框。[0m
2025-07-01 10:54:02 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 8 个有效气泡坐标。[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 8 个气泡 (耗时: 0.73s)[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 10:54:02 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-07-01 10:54:02 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 10:54:02 - MangaOCRInterface - [32mINFO[0m - [32m检测到GPU: NVIDIA GeForce RTX 3050 Laptop GPU，将使用GPU加速[0m
2025-07-01 10:54:02 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 10:54:02 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 10:54:02 - MangaOCRInterface - [31mERROR[0m - [31m使用本地路径加载模型失败: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434[0m
2025-07-01 10:54:02 - MangaOCRInterface - [32mINFO[0m - [32m尝试使用默认路径加载模型...[0m
2025-07-01 10:54:02 - MangaOCRInterface - [31mERROR[0m - [31m初始化 MangaOCR 实例失败: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 99, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(
                          ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 19, in __init__
    self.model = MangaOcrModel.from_pretrained(pretrained_model_name_or_path)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 284, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 311, in _wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 4833, in from_pretrained
    ) = cls._load_pretrained_model(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 5099, in _load_pretrained_model
    load_state_dict(checkpoint_files[0], map_location="meta", weights_only=weights_only).keys()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\modeling_utils.py", line 556, in load_state_dict
    check_torch_load_is_safe()
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\import_utils.py", line 1517, in check_torch_load_is_safe
    raise ValueError(
ValueError: Due to a serious vulnerability issue in `torch.load`, even with `weights_only=True`, we now require users to upgrade torch to at least v2.6 in order to use the function. This version restriction does not apply when loading files with safetensors.
See the vulnerability report here https://nvd.nist.gov/vuln/detail/CVE-2025-32434

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 470, in cached_files
    hf_hub_download(
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1008, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1115, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\huggingface_hub\file_download.py", line 1636, in _raise_on_head_call_error
    raise LocalEntryNotFoundError(
huggingface_hub.errors.LocalEntryNotFoundError: Cannot find the requested files in the disk cache and outgoing traffic has been disabled. To enable hf.co look-ups and downloads online, set 'local_files_only' to False.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\manga_ocr_interface.py", line 109, in get_manga_ocr_instance
    _manga_ocr_instance = manga_ocr.MangaOcr(force_cpu=force_cpu)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\manga_ocr\ocr.py", line 17, in __init__
    self.processor = ViTImageProcessor.from_pretrained(pretrained_model_name_or_path)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 206, in from_pretrained
    image_processor_dict, kwargs = cls.get_image_processor_dict(pretrained_model_name_or_path, **kwargs)
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\image_processing_base.py", line 338, in get_image_processor_dict
    resolved_image_processor_file = cached_file(
                                    ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 312, in cached_file
    file = cached_files(path_or_repo_id=path_or_repo_id, filenames=[filename], **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\utils\hub.py", line 543, in cached_files
    raise OSError(
OSError: We couldn't connect to 'https://huggingface.co' to load the files, and couldn't find them in the cached files.
Check your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
2025-07-01 10:54:02 - CoreOCR - [31mERROR[0m - [31m无法初始化 MangaOCR，OCR 步骤跳过。[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.07s)[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 8[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 10:54:02 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 8 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 10:54:02 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 8[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 0.00s)[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 10:54:02 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 10:54:02 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：8[0m
2025-07-01 10:54:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:54:02 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 10:54:02 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 10:54:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.57s)[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 10:54:03 - CoreRendering - [32mINFO[0m - [32m开始渲染 8 个气泡的文本...[0m
2025-07-01 10:54:03 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.00s)[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 10:54:03 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 1.40s[0m
2025-07-01 10:54:03 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 10:54:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 10:54:03 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:00:38 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:00:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:00:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:00:38 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:00:39 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: operator torchvision::nms does not exist[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 54, in _create
    from models.common import AutoShape, DetectMultiBackend
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 39, in <module>
    from utils.dataloaders import exif_transpose, letterbox
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\dataloaders.py", line 23, in <module>
    import torchvision
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\__init__.py", line 6, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\_meta_registrations.py", line 163, in <module>
    @torch._custom_ops.impl_abstract("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 1023, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 214, in _register_fake
    handle = entry.fake_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\_library\fake_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist
2025-07-01 11:00:39 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:00:39 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:00:39 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:00:39 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:00:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:00:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:00:39 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:00:39 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:00:42 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - cannot import name 'ViTImageProcessor' from 'transformers' (D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\__init__.py)[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:01:56 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:01:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:01:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:01:56 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:01:57 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: operator torchvision::nms does not exist[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 54, in _create
    from models.common import AutoShape, DetectMultiBackend
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 39, in <module>
    from utils.dataloaders import exif_transpose, letterbox
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\dataloaders.py", line 23, in <module>
    import torchvision
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\__init__.py", line 6, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\_meta_registrations.py", line 163, in <module>
    @torch._custom_ops.impl_abstract("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 1023, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 214, in _register_fake
    handle = entry.fake_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\_library\fake_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist
2025-07-01 11:01:57 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:01:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:01:57 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:01:57 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:01:57 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:01:57 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:01:57 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:01:57 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:01:59 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - cannot import name 'ViTImageProcessor' from 'transformers' (D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\__init__.py)[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:04:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:04 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:04:04 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: operator torchvision::nms does not exist[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 54, in _create
    from models.common import AutoShape, DetectMultiBackend
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 39, in <module>
    from utils.dataloaders import exif_transpose, letterbox
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\dataloaders.py", line 23, in <module>
    import torchvision
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\__init__.py", line 6, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\_meta_registrations.py", line 163, in <module>
    @torch._custom_ops.impl_abstract("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 1023, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 214, in _register_fake
    handle = entry.fake_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\_library\fake_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist
2025-07-01 11:04:04 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:04:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:04:04 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:04:04 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:04:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:04:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:04:04 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:04:04 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:04:07 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - cannot import name 'ViTImageProcessor' from 'transformers' (D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\__init__.py)[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-10-10.0.22000-SP0[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32mPython版本: 3.11.13[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:04:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:33 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:04:33 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: operator torchvision::nms does not exist[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 54, in _create
    from models.common import AutoShape, DetectMultiBackend
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 39, in <module>
    from utils.dataloaders import exif_transpose, letterbox
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\utils\dataloaders.py", line 23, in <module>
    import torchvision
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\__init__.py", line 6, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torchvision\_meta_registrations.py", line 163, in <module>
    @torch._custom_ops.impl_abstract("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 1023, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\library.py", line 214, in _register_fake
    handle = entry.fake_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\torch\_library\fake_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist
2025-07-01 11:04:33 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:04:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:04:33 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:04:33 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:04:33 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:04:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:04:33 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:04:33 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:04:33 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:04:35 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - cannot import name 'ViTImageProcessor' from 'transformers' (D:\Software\IDE\Anaconda\envs\yolov12\Lib\site-packages\transformers\__init__.py)[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:14:38 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:14:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:14:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:14:38 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:14:39 - numexpr.utils - [32mINFO[0m - [32mNote: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.[0m
2025-07-01 11:14:39 - numexpr.utils - [32mINFO[0m - [32mNumExpr defaulting to 8 threads.[0m
2025-07-01 11:15:02 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:15:02 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:15:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:02 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:15:02 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:15:02 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:15:02 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:15:02 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:15:02 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:15:02 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:15:02 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'manga_ocr'[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:15:43 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:43 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:15:43 - numexpr.utils - [32mINFO[0m - [32mNote: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.[0m
2025-07-01 11:15:43 - numexpr.utils - [32mINFO[0m - [32mNumExpr defaulting to 8 threads.[0m
2025-07-01 11:15:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:15:46 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:15:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:15:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:15:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:15:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:15:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:15:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:15:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:15:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:15:48 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'openai'[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:16:06 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:16:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:06 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:16:06 - numexpr.utils - [32mINFO[0m - [32mNote: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.[0m
2025-07-01 11:16:06 - numexpr.utils - [32mINFO[0m - [32mNumExpr defaulting to 8 threads.[0m
2025-07-01 11:16:09 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:16:09 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:16:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:09 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:16:09 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:16:09 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:16:09 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:16:09 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:16:09 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:16:09 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:16:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:11 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:16:11 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'PyPDF2'[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:16:28 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:16:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:28 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:16:28 - numexpr.utils - [32mINFO[0m - [32mNote: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.[0m
2025-07-01 11:16:28 - numexpr.utils - [32mINFO[0m - [32mNumExpr defaulting to 8 threads.[0m
2025-07-01 11:16:31 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:16:31 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:16:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:16:31 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:16:31 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:16:31 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:16:31 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:16:31 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:16:31 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:16:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:33 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:16:33 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:16:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:33 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:33 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:16:33 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:16:33 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:16:33 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:16:33 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:16:33 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:16:33 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:16:35 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.85 秒[0m
2025-07-01 11:16:35 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:16:47 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:16:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:47 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:16:50 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:16:50 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:16:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:50 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:16:50 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:16:50 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:16:50 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:16:50 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:16:50 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:16:50 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:16:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:52 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:16:52 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:16:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:52 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:16:52 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:16:52 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:16:52 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:16:52 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:16:52 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:16:52 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:16:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:16:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:16:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:16:52 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:16:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:16:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:16:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:16:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:16:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:16:53 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:16:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:16:54 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.83 秒[0m
2025-07-01 11:16:54 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:17:06 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:17:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:17:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:17:16 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:17:16 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 11:17:17 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:17:17 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:17:17 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 4 个候选框 (阈值: 0.6)[0m
2025-07-01 11:17:17 - CoreDetection - [32mINFO[0m - [32m检测到 4 个气泡候选框。[0m
2025-07-01 11:17:17 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 4 个有效气泡坐标。[0m
2025-07-01 11:17:17 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 4 个气泡 (耗时: 0.32s)[0m
2025-07-01 11:17:17 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:17:17 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-07-01 11:17:17 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 4 个气泡...[0m
2025-07-01 11:17:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:17 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'ヒール！'[0m
2025-07-01 11:17:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:18 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'だめだ削りきられる！'[0m
2025-07-01 11:17:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:19 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'ふんばれあと少しだ！'[0m
2025-07-01 11:17:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:19 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'ヤツヤッ'[0m
2025-07-01 11:17:19 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.41s)[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 4[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'ヒール！'[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'だめだ削りきられる！'[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'ふんばれあと少しだ！'[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'ヤツヤッ'[0m
2025-07-01 11:17:19 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:17:19 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 4 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:17:19 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ヒール！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:17:34 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ヒール！...' -> '高跟鞋！...'[0m
2025-07-01 11:17:34 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'だめだ削りきられる！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:17:38 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'だめだ削りきられる！...' -> '不行了，要被削完了！...'[0m
2025-07-01 11:17:38 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ふんばれあと少しだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:17:41 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ふんばれあと少しだ！...' -> '再加把劲，就快到了！...'[0m
2025-07-01 11:17:41 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ヤツヤッ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:17:56 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ヤツヤッ...' -> '喂喂...'[0m
2025-07-01 11:17:56 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 4[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '高跟鞋！'[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不行了，要被削完了！'[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '再加把劲，就快到了！'[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '喂喂'[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 36.52s)[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:17:56 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：4[0m
2025-07-01 11:17:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:56 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:17:56 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:17:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.68s)[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:17:56 - CoreRendering - [32mINFO[0m - [32m开始渲染 4 个气泡的文本...[0m
2025-07-01 11:17:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:17:56 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc (大小: 25)[0m
2025-07-01 11:17:56 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:17:56 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 39.98s[0m
2025-07-01 11:17:57 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:17:57 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:17:57 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:18:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:18:44 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:18:44 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:18:44 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:18:44 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:18:44 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 检测到 4 个候选框 (阈值: 0.6)[0m
2025-07-01 11:18:44 - CoreDetection - [32mINFO[0m - [32m检测到 4 个气泡候选框。[0m
2025-07-01 11:18:44 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 4 个有效气泡坐标。[0m
2025-07-01 11:18:44 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 4 个气泡 (耗时: 0.28s)[0m
2025-07-01 11:18:44 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:18:44 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 4 个气泡...[0m
2025-07-01 11:18:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:45 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'ヒール！'[0m
2025-07-01 11:18:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:45 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'だめだ削りきられる！'[0m
2025-07-01 11:18:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:46 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'ふんばれあと少しだ！'[0m
2025-07-01 11:18:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:18:47 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'ヤツヤッ'[0m
2025-07-01 11:18:47 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.55s)[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 4[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'ヒール！'[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'だめだ削りきられる！'[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'ふんばれあと少しだ！'[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'ヤツヤッ'[0m
2025-07-01 11:18:47 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:18:47 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 4 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:18:47 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ヒール！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:19:02 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ヒール！...' -> '```json
{
"detected": "ja",
"t...'[0m
2025-07-01 11:19:02 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'だめだ削りきられる！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:19:06 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'だめだ削りきられる！...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:19:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ふんばれあと少しだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:19:10 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ふんばれあと少しだ！...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:19:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ヤツヤッ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:19:14 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ヤツヤッ...' -> '```json
{
"detected": "ja",
"t...'[0m
2025-07-01 11:19:14 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 4[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '```json
{
"detected": "ja",
"translation": "治愈！"
}
```'[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '"detected": "ja",
"translation": "不行了要被削光了！"'[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '"detected": "ja",
"translation": "坚持住，就差一点了！"'[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '```json
{
"detected": "ja",
"translation": "那家伙"
}
```'[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 27.44s)[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:19:14 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:19:14 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：4[0m
2025-07-01 11:19:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:14 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:19:14 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:19:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.61s)[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m开始渲染 4 个气泡的文本...[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 48)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 54)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 57)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 55)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 56)[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 55px (范围: 12-60)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 42)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 39)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 37)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 38)[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 37px (范围: 12-60)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 23)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 29)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 32)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 34)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 33)[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 32px (范围: 12-60)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 26)[0m
2025-07-01 11:19:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 24)[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 23px (范围: 12-60)[0m
2025-07-01 11:19:15 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.06s)[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:19:15 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 30.99s[0m
2025-07-01 11:19:15 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:22:43 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:22:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:43 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:22:46 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:22:46 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:22:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:22:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:22:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:22:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:22:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:22:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:22:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:22:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:48 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:22:48 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:22:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:48 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:22:48 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:22:48 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:22:48 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:22:48 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:22:48 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:22:48 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:22:49 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.70 秒[0m
2025-07-01 11:22:49 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:22:58 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:22:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:22:58 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:23:02 - YOLOInterface - [32mINFO[0m - [32mYOLOv5 模型加载成功，置信度设置为: 0.6[0m
2025-07-01 11:23:02 - comic_translator - [32mINFO[0m - [32mYOLOv5模型预加载成功[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:23:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:02 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:23:02 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:23:02 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:23:02 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:23:02 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:23:02 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:23:02 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:23:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:04 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:23:04 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:23:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:04 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:23:04 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:23:04 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:23:04 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:23:04 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:23:04 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:23:04 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:23:06 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.67 秒[0m
2025-07-01 11:23:06 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:23:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:23:59 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:23:59 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:23:59 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:23:59 - CoreDetection - [31mERROR[0m - [31m获取气泡坐标时出错: name 'detect_bubbles_v12' is not defined[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\core\detection.py", line 39, in get_bubble_coordinates
    boxes, scores, class_ids = detect_bubbles_v12(img_cv, conf_threshold=conf_threshold)
                               ^^^^^^^^^^^^^^^^^^
NameError: name 'detect_bubbles_v12' is not defined. Did you mean: 'detect_bubbles'?
2025-07-01 11:23:59 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.03s)[0m
2025-07-01 11:23:59 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:23:59 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:24:36 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:24:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:36 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:24:40 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1355, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 11:24:40 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:24:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:40 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:24:40 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:24:40 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:24:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:24:40 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:24:40 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:24:40 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:24:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:42 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:24:42 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:24:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:24:42 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:24:42 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:24:42 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:24:42 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:24:42 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:24:42 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:24:42 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:24:44 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.81 秒[0m
2025-07-01 11:24:44 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:27:04 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:27:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:04 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:27:08 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1355, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=False, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 11:27:08 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:27:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:27:08 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:27:08 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:27:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:27:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:27:08 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:27:08 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:27:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:10 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:27:10 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:27:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:10 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:10 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:27:10 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:27:10 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:27:10 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:27:10 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:27:10 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:27:10 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:27:12 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.07 秒[0m
2025-07-01 11:27:12 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:27:26 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:27:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:26 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:27:30 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1355, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=True, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 11:27:30 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:27:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:27:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:27:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:27:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:27:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:27:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:27:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:27:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:32 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:27:32 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:27:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:27:32 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:27:32 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:27:32 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:27:32 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:27:32 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:27:32 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:27:32 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:27:34 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.01 秒[0m
2025-07-01 11:27:34 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:29:23 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:29:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:23 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:29:24 - numexpr.utils - [32mINFO[0m - [32mNote: NumExpr detected 12 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.[0m
2025-07-01 11:29:24 - numexpr.utils - [32mINFO[0m - [32mNumExpr defaulting to 8 threads.[0m
2025-07-01 11:29:27 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1355, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=True, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 11:29:27 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:29:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:27 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:29:27 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:29:27 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:29:27 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:29:27 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:29:27 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:29:27 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:29:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:29 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:29:29 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:29:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:29 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:29:29 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:29:29 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:29:29 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:29:29 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:29:29 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:29:29 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:29:30 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.47 秒[0m
2025-07-01 11:29:30 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:29:42 - comic_translator - [32mINFO[0m - [32m预加载YOLOv5气泡检测模型...[0m
2025-07-01 11:29:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:42 - YOLOInterface - [32mINFO[0m - [32m开始加载 YOLOv5 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:29:47 - YOLOInterface - [31mERROR[0m - [31m加载 YOLOv5 模型失败: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 98, in _create
    return model.to(device)
           ^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1355, in to
    return self._apply(convert)
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\models\common.py", line 851, in _apply
    m.grid = list(map(fn, m.grid))
                          ^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'Detect' object has no attribute 'grid'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolo_interface.py", line 62, in load_yolo_model
    _yolo_model = torch.hub.load(repo_or_dir=repo_dir, model='custom', path=weights_path, source='local', force_reload=True, trust_repo=True)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 647, in load
    model = _load_local(repo_or_dir, model, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\hub.py", line 680, in _load_local
    model = entry(*args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 135, in custom
    return _create(path, autoshape=autoshape, verbose=_verbose, device=device)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\ultralytics_yolov5_master\hubconf.py", line 103, in _create
    raise Exception(s) from e
Exception: 'Detect' object has no attribute 'grid'. Cache may be out of date, try `force_reload=True` or see https://docs.ultralytics.com/yolov5/tutorials/pytorch_hub_model_loading for help.
2025-07-01 11:29:47 - comic_translator - [33mWARNING[0m - [33mYOLOv5模型预加载失败，将在首次使用时再次尝试加载[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:29:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:47 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:47 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:29:47 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:29:47 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:29:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:29:47 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:29:47 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:29:47 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:29:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:48 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:29:48 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:29:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:48 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:29:48 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:29:48 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:29:48 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:29:49 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:29:49 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:29:49 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:29:49 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:29:49 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:29:49 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:29:49 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:29:49 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:29:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:29:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:29:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:29:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:29:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:29:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:29:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:29:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:29:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:29:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:29:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:29:51 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.05 秒[0m
2025-07-01 11:29:51 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:30:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:30:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:30:04 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:30:04 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:30:04 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:30:04 - CoreDetection - [31mERROR[0m - [31m获取气泡坐标时出错: name 'detect_bubbles_v12' is not defined[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\core\detection.py", line 39, in get_bubble_coordinates
    boxes, scores, class_ids = detect_bubbles_v12(img_cv, conf_threshold=conf_threshold)
                               ^^^^^^^^^^^^^^^^^^
NameError: name 'detect_bubbles_v12' is not defined. Did you mean: 'detect_bubbles'?
2025-07-01 11:30:04 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.01s)[0m
2025-07-01 11:30:04 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:30:04 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:32:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:03 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:32:03 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:32:03 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:32:03 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:32:03 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:32:03 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:32:03 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:32:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:07 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:32:07 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:32:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:07 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:32:07 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:32:07 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:32:07 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:32:07 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:32:07 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:32:07 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:32:09 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.80 秒[0m
2025-07-01 11:32:09 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:32:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:32:22 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:32:22 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:32:22 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:32:22 - CoreDetection - [31mERROR[0m - [31m获取气泡坐标时出错: name 'detect_bubbles_v12' is not defined[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\core\detection.py", line 39, in get_bubble_coordinates
    boxes, scores, class_ids = detect_bubbles_v12(img_cv, conf_threshold=conf_threshold)
                               ^^^^^^^^^^^^^^^^^^
NameError: name 'detect_bubbles_v12' is not defined. Did you mean: 'detect_bubbles'?
2025-07-01 11:32:22 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.03s)[0m
2025-07-01 11:32:22 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:32:22 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:33:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:33:17 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:33:17 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:33:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:33:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:33:17 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:33:17 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:33:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:27 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:33:27 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:33:27 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:33:27 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:33:27 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:33:27 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:33:27 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:33:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:31 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:33:31 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:33:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:31 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:33:31 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:33:31 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:33:31 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:33:31 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:33:31 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:33:31 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:33:33 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.43 秒[0m
2025-07-01 11:33:33 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:33:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:33:45 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:33:45 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:33:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:33:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:33:45 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:33:45 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:33:49 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:33:49 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:33:49 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:33:49 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:33:49 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:33:49 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:33:49 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:33:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:33:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:33:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:33:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:33:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:33:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:33:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:33:49 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:33:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:33:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:51 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.93 秒[0m
2025-07-01 11:33:51 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:33:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:33:56 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:33:56 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:33:56 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:33:56 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:33:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:56 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:33:56 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 模型加载成功[0m
2025-07-01 11:33:56 - YOLOv12Interface - [31mERROR[0m - [31mYOLOv12 推理失败: 'AAttn' object has no attribute 'qkv'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolov12_interface.py", line 75, in detect_bubbles_v12
    results = model.predict(source=image_cv, conf=conf_threshold, verbose=False)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\model.py", line 555, in predict
    return self.predictor.predict_cli(source=source) if is_cli else self.predictor(source=source, stream=stream)
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 227, in __call__
    return list(self.stream_inference(source, model, *args, **kwargs))  # merge list of Result into one
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\utils\_contextlib.py", line 36, in generator_context
    response = gen.send(None)
               ^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 330, in stream_inference
    preds = self.inference(im, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 182, in inference
    return self.model(im, augment=self.args.augment, visualize=visualize, embed=self.args.embed, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\autobackend.py", line 646, in forward
    y = self.model(im, augment=augment, visualize=visualize, embed=embed, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 138, in forward
    return self.predict(x, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 156, in predict
    return self._predict_once(x, profile, visualize, embed)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 179, in _predict_once
    x = m(x)  # run
        ^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in forward
    y.extend(m(y[-1]) for m in self.m)
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in <genexpr>
    y.extend(m(y[-1]) for m in self.m)
             ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\container.py", line 240, in forward
    input = module(input)
            ^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1839, in forward
    x = x + self.attn(x)
            ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1748, in forward
    qkv = self.qkv(x).flatten(2).transpose(1, 2)
          ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'AAttn' object has no attribute 'qkv'. Did you mean: 'qk'?
2025-07-01 11:33:56 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 11:33:56 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.49s)[0m
2025-07-01 11:33:56 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:33:57 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:33:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:33:59 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:33:59 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:33:59 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:33:59 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:33:59 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:33:59 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:33:59 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:34:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:34:03 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:34:03 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:34:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:34:03 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:34:03 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:34:03 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:34:03 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:34:03 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:34:03 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:34:03 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:34:03 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:34:05 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.71 秒[0m
2025-07-01 11:34:05 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:36:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:36:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:36:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:36:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:36:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:36:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:36:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:36:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:34 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:36:34 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:36:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:34 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:36:34 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:36:34 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:36:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:36:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:36:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:36:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:36:36 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.82 秒[0m
2025-07-01 11:36:36 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:36:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:36:57 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:36:57 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:36:58 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:36:58 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:36:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:36:58 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:36:58 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 11:36:58 - YOLOv12Interface - [31mERROR[0m - [31mYOLOv12 推理失败: 'AAttn' object has no attribute 'qkv'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolov12_interface.py", line 74, in detect_bubbles_v12
    results = model.predict(source=image_cv, conf=conf_threshold, verbose=False)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\model.py", line 555, in predict
    return self.predictor.predict_cli(source=source) if is_cli else self.predictor(source=source, stream=stream)
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 227, in __call__
    return list(self.stream_inference(source, model, *args, **kwargs))  # merge list of Result into one
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\utils\_contextlib.py", line 36, in generator_context
    response = gen.send(None)
               ^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 330, in stream_inference
    preds = self.inference(im, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 182, in inference
    return self.model(im, augment=self.args.augment, visualize=visualize, embed=self.args.embed, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\autobackend.py", line 646, in forward
    y = self.model(im, augment=augment, visualize=visualize, embed=embed, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 138, in forward
    return self.predict(x, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 156, in predict
    return self._predict_once(x, profile, visualize, embed)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 179, in _predict_once
    x = m(x)  # run
        ^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in forward
    y.extend(m(y[-1]) for m in self.m)
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in <genexpr>
    y.extend(m(y[-1]) for m in self.m)
             ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\container.py", line 240, in forward
    input = module(input)
            ^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1839, in forward
    x = x + self.attn(x)
            ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1748, in forward
    qkv = self.qkv(x).flatten(2).transpose(1, 2)
          ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'AAttn' object has no attribute 'qkv'. Did you mean: 'qk'?
2025-07-01 11:36:58 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 11:36:58 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.47s)[0m
2025-07-01 11:36:58 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:36:58 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:37:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:37:12 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:37:12 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:37:12 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:37:12 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:37:12 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:37:12 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:37:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:16 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:37:16 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:37:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:16 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:37:16 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:37:16 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:37:16 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:37:16 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:37:16 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:37:16 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:37:18 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.42 秒[0m
2025-07-01 11:37:18 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:37:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:37:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:37:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:37:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:37:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:37:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:37:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:37:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:34 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:37:34 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:37:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:34 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:37:34 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:37:34 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:37:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:37:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:37:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:37:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:37:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:37:34 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:37:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:37:34 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:37:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:37:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:37:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:37:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:37:35 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:37:35 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:37:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:36 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.02 秒[0m
2025-07-01 11:37:36 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:37:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:37:37 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:37:37 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:37:38 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:37:38 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:37:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:37:38 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:37:38 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 11:37:38 - YOLOv12Interface - [31mERROR[0m - [31mYOLOv12 推理失败: 'AAttn' object has no attribute 'qkv'[0m
Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\interfaces\yolov12_interface.py", line 74, in detect_bubbles_v12
    results = model.predict(source=image_cv, conf=conf_threshold, verbose=False)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\model.py", line 555, in predict
    return self.predictor.predict_cli(source=source) if is_cli else self.predictor(source=source, stream=stream)
                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 227, in __call__
    return list(self.stream_inference(source, model, *args, **kwargs))  # merge list of Result into one
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\utils\_contextlib.py", line 36, in generator_context
    response = gen.send(None)
               ^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 330, in stream_inference
    preds = self.inference(im, *args, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\engine\predictor.py", line 182, in inference
    return self.model(im, augment=self.args.augment, visualize=visualize, embed=self.args.embed, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\autobackend.py", line 646, in forward
    y = self.model(im, augment=augment, visualize=visualize, embed=embed, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 138, in forward
    return self.predict(x, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 156, in predict
    return self._predict_once(x, profile, visualize, embed)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\tasks.py", line 179, in _predict_once
    x = m(x)  # run
        ^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in forward
    y.extend(m(y[-1]) for m in self.m)
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1921, in <genexpr>
    y.extend(m(y[-1]) for m in self.m)
             ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\container.py", line 240, in forward
    input = module(input)
            ^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1839, in forward
    x = x + self.attn(x)
            ^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1751, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1762, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\ultralytics\nn\modules\block.py", line 1748, in forward
    qkv = self.qkv(x).flatten(2).transpose(1, 2)
          ^^^^^^^^
  File "D:\Software\IDE\Anaconda\Lib\site-packages\torch\nn\modules\module.py", line 1940, in __getattr__
    raise AttributeError(
AttributeError: 'AAttn' object has no attribute 'qkv'. Did you mean: 'qk'?
2025-07-01 11:37:38 - CoreDetection - [32mINFO[0m - [32m未检测到气泡。[0m
2025-07-01 11:37:38 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 0 个气泡 (耗时: 0.45s)[0m
2025-07-01 11:37:38 - CoreProcessing - [32mINFO[0m - [32m未检测到气泡，处理结束。[0m
2025-07-01 11:37:38 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:38:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:38:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:38:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:38:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:38:45 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:38:45 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:38:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:38:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:38:45 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:38:45 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:38:45 - comic_translator - [31mERROR[0m - [31m导入或注册蓝图失败 - No module named 'ultralytics'[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:39:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:39:52 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:39:52 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:39:52 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:39:52 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:39:52 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:39:52 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:39:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:57 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:39:57 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:39:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:39:57 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:39:57 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:39:57 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:39:57 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:39:57 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:39:57 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:39:57 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:39:59 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.32 秒[0m
2025-07-01 11:39:59 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:40:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:40:11 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:40:11 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:40:11 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:40:11 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:40:11 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:40:11 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:40:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:15 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:40:16 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:16 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:40:16 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:40:16 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:40:16 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:40:16 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:40:16 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:40:16 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:40:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:40:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:40:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:40:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:40:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:40:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:40:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:40:16 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 11:40:16 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 11:40:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:18 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.91 秒[0m
2025-07-01 11:40:18 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:40:23 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:40:23 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:40:23 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:40:23 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:40:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:23 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:40:23 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 11:40:24 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 2 个候选框 (阈值: 0.6)[0m
2025-07-01 11:40:24 - CoreDetection - [32mINFO[0m - [32m检测到 2 个气泡候选框。[0m
2025-07-01 11:40:24 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 2 个有效气泡坐标。[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 2 个气泡 (耗时: 0.65s)[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:40:24 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 2 个气泡...[0m
2025-07-01 11:40:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:24 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'だめだ削りきられる！'[0m
2025-07-01 11:40:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:24 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'ふんばれあと少しだ！'[0m
2025-07-01 11:40:24 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.55s)[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 2[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'だめだ削りきられる！'[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'ふんばれあと少しだ！'[0m
2025-07-01 11:40:24 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:40:24 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 2 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:40:24 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'だめだ削りきられる！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:40:40 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'だめだ削りきられる！...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:40:40 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ふんばれあと少しだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:40:45 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ふんばれあと少しだ！...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:40:45 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 2[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '"detected": "ja",
"translation": "不行要被削没了！"'[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '"detected": "ja",
"translation": "坚持住，就差一点了！"'[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 20.32s)[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:40:45 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：2[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:40:45 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.57s)[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m开始渲染 2 个气泡的文本...[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 23)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 29)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 32)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 34)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 33)[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 33px (范围: 12-60)[0m
2025-07-01 11:40:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 30)[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 29px (范围: 12-60)[0m
2025-07-01 11:40:45 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.02s)[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:40:45 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 22.17s[0m
2025-07-01 11:40:46 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:41:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:41:38 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:41:38 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:41:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:41:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:41:38 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:41:38 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:41:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:42 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:41:43 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:41:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:41:43 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:41:43 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:41:43 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:41:43 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:41:43 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:41:43 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:41:43 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:41:44 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.62 秒[0m
2025-07-01 11:41:44 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:42:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:42:24 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:42:24 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:42:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:42:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:42:24 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:42:24 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:42:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:29 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:42:29 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:42:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:42:29 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:42:29 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:42:29 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:42:29 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:42:29 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:42:29 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:42:29 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:42:31 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.84 秒[0m
2025-07-01 11:42:31 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个语言识别与翻译助手。请完成以下两件事：（1）判断我提供的原文属于哪种语言，输出该语言的 ISO 639-1 两位语言代码（如 zh 表示中文，en 表示英文，ja 表示日文；（2）将该段原文翻译为我指定的目标语言，翻译时请尽量保持含义准确、语言自然，并控制在不超过原文长度的范围内。\n请按以下格式输出：\n\"detected\": \"<原文语言代码>\",\n\"translation\": \"<翻译后的文本>\" \n我的目标语言是：{target_language}\n以下是需要处理的原文：{text}", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:43:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:43:04 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:43:04 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:43:04 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:43:04 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:43:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:04 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 11:43:04 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 11:43:05 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 5 个候选框 (阈值: 0.6)[0m
2025-07-01 11:43:05 - CoreDetection - [32mINFO[0m - [32m检测到 5 个气泡候选框。[0m
2025-07-01 11:43:05 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 5 个有效气泡坐标。[0m
2025-07-01 11:43:05 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 5 个气泡 (耗时: 0.62s)[0m
2025-07-01 11:43:05 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:43:05 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 5 个气泡...[0m
2025-07-01 11:43:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:05 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'ちょっと髪をまとめようと思ってきた．．．'[0m
2025-07-01 11:43:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:05 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: '．．．最近暑くなってきただろ'[0m
2025-07-01 11:43:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:06 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '何やってんだオレーーー'[0m
2025-07-01 11:43:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:06 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: '．．．．．．って'[0m
2025-07-01 11:43:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:06 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'やだかわいい！！'[0m
2025-07-01 11:43:06 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.41s)[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 5[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'ちょっと髪をまとめようと思ってきた．．．'[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: '．．．最近暑くなってきただろ'[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '何やってんだオレーーー'[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: '．．．．．．って'[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'やだかわいい！！'[0m
2025-07-01 11:43:06 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:43:06 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 5 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:43:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ちょっと髪をまとめようと思ってきた．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:43:22 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ちょっと髪をまとめようと思ってきた．．．...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:43:22 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．最近暑くなってきただろ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:43:26 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．最近暑くなってきただろ...' -> '```json
{
  "detected": "ja",
...'[0m
2025-07-01 11:43:26 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '何やってんだオレーーー...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:43:30 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '何やってんだオレーーー...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:43:30 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．って...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:43:45 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．って...' -> '```json
{
  "detected": "ja",
...'[0m
2025-07-01 11:43:45 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'やだかわいい！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:43:49 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'やだかわいい！！...' -> '"detected": "ja",
"translation...'[0m
2025-07-01 11:43:49 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 5[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '"detected": "ja",
"translation": "想着稍微整理下头发就过来了..."'[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '```json
{
  "detected": "ja",
  "translation": "最近天气变热了呢"
}
```'[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '"detected": "ja",
"translation": "我到底在干什么啊——"'[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '```json
{
  "detected": "ja",
  "translation": "……说"
}
```'[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '"detected": "ja",
"translation": "讨厌啦好可爱！！"'[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 43.03s)[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:43:49 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:43:49 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：5[0m
2025-07-01 11:43:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:49 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:43:49 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:43:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.63s)[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m开始渲染 5 个气泡的文本...[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 48)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 42)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 45)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 43)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 44)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 44px (范围: 12-60)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 23)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 29)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 32)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 34)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 35)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 35px (范围: 12-60)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 43px (范围: 12-60)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 34px (范围: 12-60)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 33)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 32px (范围: 12-60)[0m
2025-07-01 11:43:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\NotoSans-Medium.ttf (大小: 32)[0m
2025-07-01 11:43:50 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.06s)[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:43:50 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 45.78s[0m
2025-07-01 11:43:50 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:45:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:45:22 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:45:22 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:45:22 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:45:22 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:45:22 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 8 个候选框 (阈值: 0.6)[0m
2025-07-01 11:45:22 - CoreDetection - [32mINFO[0m - [32m检测到 8 个气泡候选框。[0m
2025-07-01 11:45:22 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 8 个有效气泡坐标。[0m
2025-07-01 11:45:22 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 8 个气泡 (耗时: 0.29s)[0m
2025-07-01 11:45:22 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:45:22 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 8 个气泡...[0m
2025-07-01 11:45:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:23 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'あれ．．．：．．けっこう居心地いいかも：！！'[0m
2025-07-01 11:45:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:23 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'ああ．．．オレはここで必要とされているーー'[0m
2025-07-01 11:45:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:23 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '持ち上げすぎですよ〜'[0m
2025-07-01 11:45:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:24 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'マヒロさんが来てくれて本当に良かったです！'[0m
2025-07-01 11:45:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:24 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'マヒロは俺たちの女神だぜ．．．！'[0m
2025-07-01 11:45:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:24 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: '今日の支援も完璧だったよ！'[0m
2025-07-01 11:45:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:25 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'いえいえそんな．．．'[0m
2025-07-01 11:45:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:45:25 - CoreOCR - [32mINFO[0m - [32m气泡 7 识别文本: '数日後'[0m
2025-07-01 11:45:25 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.50s)[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 8[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'あれ．．．：．．けっこう居心地いいかも：！！'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'ああ．．．オレはここで必要とされているーー'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '持ち上げすぎですよ〜'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'マヒロさんが来てくれて本当に良かったです！'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'マヒロは俺たちの女神だぜ．．．！'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: '今日の支援も完璧だったよ！'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'いえいえそんな．．．'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 7: '数日後'[0m
2025-07-01 11:45:25 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:45:25 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 8 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:45:25 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'あれ．．．：．．けっこう居心地いいかも：！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:45:39 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'あれ．．．：．．けっこう居心地いいかも：！！...' -> '呃……这里还挺舒服的嘛！！...'[0m
2025-07-01 11:45:39 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ああ．．．オレはここで必要とされているーー...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:45:43 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ああ．．．オレはここで必要とされているーー...' -> '啊…我在这里是被需要的——...'[0m
2025-07-01 11:45:43 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '持ち上げすぎですよ〜...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:45:46 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '持ち上げすぎですよ〜...' -> '你太抬举我啦～...'[0m
2025-07-01 11:45:46 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'マヒロさんが来てくれて本当に良かったです！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:46:01 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'マヒロさんが来てくれて本当に良かったです！...' -> '真高兴马宏来了！...'[0m
2025-07-01 11:46:01 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'マヒロは俺たちの女神だぜ．．．！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:46:04 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'マヒロは俺たちの女神だぜ．．．！...' -> '麻衣子是我们的女神啊...！...'[0m
2025-07-01 11:46:04 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '今日の支援も完璧だったよ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:46:07 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '今日の支援も完璧だったよ！...' -> '今天的支援也很完美！...'[0m
2025-07-01 11:46:07 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いえいえそんな．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:46:11 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いえいえそんな．．．...' -> '不不，没什么......'[0m
2025-07-01 11:46:11 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '数日後...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:46:14 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '数日後...' -> '几天后...'[0m
2025-07-01 11:46:14 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 8[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '呃……这里还挺舒服的嘛！！'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '啊…我在这里是被需要的——'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '你太抬举我啦～'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '真高兴马宏来了！'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '麻衣子是我们的女神啊...！'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '今天的支援也很完美！'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '不不，没什么...'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本 7 翻译结果: '几天后'[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 48.96s)[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:46:14 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：8[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:46:14 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.50s)[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m开始渲染 8 个气泡的文本...[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 54)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 57)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 59)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\NotoSans-Medium.ttf (大小: 60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 55)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 56)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 56px (范围: 12-60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 56px (范围: 12-60)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 51)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 52)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 53)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 53px (范围: 12-60)[0m
2025-07-01 11:46:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 58)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 57px (范围: 12-60)[0m
2025-07-01 11:46:14 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.05s)[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:46:14 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 52.34s[0m
2025-07-01 11:46:15 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 11:47:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:47:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (3066, 4096)[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:47:05 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:47:05 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 11:47:05 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:47:05 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:47:05 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 1 个候选框 (阈值: 0.6)[0m
2025-07-01 11:47:05 - CoreDetection - [32mINFO[0m - [32m检测到 1 个气泡候选框。[0m
2025-07-01 11:47:05 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 1 个有效气泡坐标。[0m
2025-07-01 11:47:05 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 1 个气泡 (耗时: 0.34s)[0m
2025-07-01 11:47:05 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:47:05 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 1 个气泡...[0m
2025-07-01 11:47:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:47:05 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'お嬢様へのチョコ製作中'[0m
2025-07-01 11:47:05 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 0.35s)[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 1[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'お嬢様へのチョコ製作中'[0m
2025-07-01 11:47:06 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:47:06 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 1 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:47:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'お嬢様へのチョコ製作中...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:47:09 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'お嬢様へのチョコ製作中...' -> '正在制作送给大小姐的巧克力...'[0m
2025-07-01 11:47:09 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 1[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '正在制作送给大小姐的巧克力'[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 3.57s)[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:47:09 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:47:09 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(4096, 3066, 3), 气泡数量：1[0m
2025-07-01 11:47:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:47:09 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:47:09 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:47:09 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 2.85s)[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:47:12 - CoreRendering - [32mINFO[0m - [32m开始渲染 1 个气泡的文本...[0m
2025-07-01 11:47:12 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 11:47:12 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.00s)[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:47:12 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 7.36s[0m
2025-07-01 11:47:15 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:50:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:50:42 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"source_language": "japan", "fontSize": "25", "autoFontSize": false, "api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "fontFamily": "fonts/msyh.ttc", "textDirection": "vertical", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "use_textbox_prompt": false, "textbox_prompt_content": "你是一个专业的外语老师。请将我提供的非中文内容连成一句或几句话并翻译成中文。同时要告诉我为什么这么翻译，这句话有哪些知识点。", "use_inpainting": false, "use_lama": false, "blend_edges": true, "inpainting_strength": 1, "fill_color": "#ffffff", "text_color": "#231816", "rotation_angle": 0, "skip_ocr": false, "skip_translation": false, "bubble_coords": null, "ocr_engine": "auto", "baidu_ocr_api_key": null, "baidu_ocr_secret_key": null, "baidu_ocr_version": null, "ai_vision_provider": null, "ai_vision_api_key": null, "ai_vision_model_name": null, "ai_vision_ocr_prompt": null, "enableTextStroke": true, "textStrokeColor": "#ffffff", "textStrokeWidth": 3, "rpm_limit_translation": 0, "rpm_limit_ai_vision_ocr": 0, "use_json_format_translation": false, "use_json_format_ai_vision_ocr": false}[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: fonts/msyh.ttc, 字号: 25[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#ffffff, width=3[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 11:51:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: fonts/msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 11:51:24 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 11:51:24 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=japan, 目标=zh, 修复=solid[0m
2025-07-01 11:51:24 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 11:51:24 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 11:51:25 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 9 个候选框 (阈值: 0.6)[0m
2025-07-01 11:51:25 - CoreDetection - [32mINFO[0m - [32m检测到 9 个气泡候选框。[0m
2025-07-01 11:51:25 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 9 个有效气泡坐标。[0m
2025-07-01 11:51:25 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 9 个气泡 (耗时: 0.29s)[0m
2025-07-01 11:51:25 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 11:51:25 - CoreOCR - [32mINFO[0m - [32m源语言: japan, 自动选择 OCR 引擎: MangaOCR[0m
2025-07-01 11:51:25 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 9 个气泡...[0m
2025-07-01 11:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:25 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '今日から入った新メンバーのケロリさん．．．ヤな奴だなおい'[0m
2025-07-01 11:51:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:26 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'いやいや．．．どうせ男でしょ'[0m
2025-07-01 11:51:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:26 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '何故なら今は――'[0m
2025-07-01 11:51:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:26 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'それは禁句だろ．．．'[0m
2025-07-01 11:51:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:26 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: '喋り方がいかにもだよな'[0m
2025-07-01 11:51:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:27 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: '．．．だが残念オレは違うぞ'[0m
2025-07-01 11:51:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:27 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: '可愛い子は大抵オッサンだ．．．'[0m
2025-07-01 11:51:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:27 - CoreOCR - [32mINFO[0m - [32m气泡 7 识别文本: 'ただの丁寧語だよ！！'[0m
2025-07-01 11:51:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:51:27 - CoreOCR - [32mINFO[0m - [32m气泡 8 识别文本: 'お．．．お前．．．．．'[0m
2025-07-01 11:51:27 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.66s)[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 9[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '今日から入った新メンバーのケロリさん．．．ヤな奴だなおい'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'いやいや．．．どうせ男でしょ'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '何故なら今は――'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'それは禁句だろ．．．'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: '喋り方がいかにもだよな'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: '．．．だが残念オレは違うぞ'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: '可愛い子は大抵オッサンだ．．．'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 7: 'ただの丁寧語だよ！！'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 8: 'お．．．お前．．．．．'[0m
2025-07-01 11:51:27 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 11:51:27 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 9 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 11:51:27 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '今日から入った新メンバーのケロリさん．．．ヤな奴だなおい...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:51:42 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '今日から入った新メンバーのケロリさん．．．ヤな奴だなおい...' -> '今天新加入的成员凯罗利...真是个讨厌的家伙啊...'[0m
2025-07-01 11:51:42 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いやいや．．．どうせ男でしょ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:51:45 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いやいや．．．どうせ男でしょ...' -> '不不...反正是个男的吧...'[0m
2025-07-01 11:51:45 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '何故なら今は――...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:51:48 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '何故なら今は――...' -> '因为现在——...'[0m
2025-07-01 11:51:48 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'それは禁句だろ．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:03 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'それは禁句だろ．．．...' -> '这可是禁忌啊……...'[0m
2025-07-01 11:52:03 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '喋り方がいかにもだよな...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:07 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '喋り方がいかにもだよな...' -> '说话方式真是让人受不了啊。...'[0m
2025-07-01 11:52:07 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．だが残念オレは違うぞ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:10 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．だが残念オレは違うぞ...' -> '可惜我与他们不同...'[0m
2025-07-01 11:52:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '可愛い子は大抵オッサンだ．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:24 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '可愛い子は大抵オッサンだ．．．...' -> '可爱的小孩大多都是大叔…...'[0m
2025-07-01 11:52:24 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ただの丁寧語だよ！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:27 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ただの丁寧語だよ！！...' -> '这只是敬语而已！！...'[0m
2025-07-01 11:52:27 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'お．．．お前．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 11:52:30 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'お．．．お前．．．．．...' -> '你...你这家伙......'[0m
2025-07-01 11:52:30 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 9[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '今天新加入的成员凯罗利...真是个讨厌的家伙啊'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不不...反正是个男的吧'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '因为现在——'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '这可是禁忌啊……'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '说话方式真是让人受不了啊。'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '可惜我与他们不同'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '可爱的小孩大多都是大叔…'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 7 翻译结果: '这只是敬语而已！！'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本 8 翻译结果: '你...你这家伙...'[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 62.40s)[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 11:52:30 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：9[0m
2025-07-01 11:52:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:52:30 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 11:52:30 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 11:52:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.47s)[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 11:52:30 - CoreRendering - [32mINFO[0m - [32m开始渲染 9 个气泡的文本...[0m
2025-07-01 11:52:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:52:30 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts/msyh.ttc (大小: 25)[0m
2025-07-01 11:52:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:52:30 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\NotoSans-Medium.ttf (大小: 25)[0m
2025-07-01 11:52:30 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 11:52:30 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 65.87s[0m
2025-07-01 11:52:31 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 11:52:31 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:52:31 - ConfigLoader - [32mINFO[0m - [32m成功保存 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\model_history.json[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:53:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:53:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:53:58 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:53:58 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:53:58 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:53:58 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:53:58 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:53:58 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:53:58 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:53:58 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:54:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:02 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:54:02 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:54:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:02 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:02 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:54:02 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:54:02 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:54:02 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:54:02 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:54:02 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:54:02 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:54:04 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.64 秒[0m
2025-07-01 11:54:04 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 11:54:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 11:54:17 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 11:54:17 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 11:54:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 11:54:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 11:54:17 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 11:54:17 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 11:54:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:21 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 11:54:21 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 11:54:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:21 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 11:54:21 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:54:21 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 11:54:21 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 11:54:21 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 11:54:21 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 11:54:21 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 11:54:21 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 11:54:23 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.71 秒[0m
2025-07-01 11:54:23 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:01:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:05 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:01:05 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:01:05 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:01:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:01:05 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:01:05 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:01:05 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:01:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:13 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:01:13 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:01:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:13 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:01:13 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:01:13 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:01:13 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:01:13 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:01:13 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:01:13 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:01:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:01:17 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:01:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:01:18 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:01:18 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:01:18 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:01:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:18 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:01:18 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:01:18 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:01:18 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:01:18 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:01:18 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:01:18 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:01:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:22 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:01:22 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:01:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:01:22 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:01:22 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:01:22 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:01:22 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:01:22 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:01:22 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:01:22 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:01:24 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.79 秒[0m
2025-07-01 14:01:24 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:05:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:49 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:05:49 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:05:49 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:05:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:05:49 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:05:49 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:05:49 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:05:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:55 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:05:55 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:05:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:05:55 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:05:55 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:05:55 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:05:55 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:05:55 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:05:55 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:05:55 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:05:57 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.22 秒[0m
2025-07-01 14:05:57 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:06:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:06:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:06:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:06:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:06:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:06:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:06:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:06:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:50 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:06:51 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:06:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:06:51 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:06:51 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:06:51 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:06:51 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:06:51 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:06:51 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:06:51 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:06:53 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.13 秒[0m
2025-07-01 14:06:53 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:07:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:37 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:07:37 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:07:37 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:07:37 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:07:37 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:07:37 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:07:37 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:07:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:42 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:07:42 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:07:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:42 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:42 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:07:42 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:07:42 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:07:42 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:07:42 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:07:42 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:07:42 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:07:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:07:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:07:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:07:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:07:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:07:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:07:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:07:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:51 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:07:51 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:07:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:07:51 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:07:51 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:07:51 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:07:51 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:07:51 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:07:51 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:07:51 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:07:53 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.96 秒[0m
2025-07-01 14:07:53 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:09:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:09:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:09:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:09:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:09:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:09:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:09:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:09:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:50 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:09:51 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:09:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:09:51 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:09:51 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:09:51 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:09:51 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:09:51 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:09:51 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:09:51 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:09:54 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 3.14 秒[0m
2025-07-01 14:09:54 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:12:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:12 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:12:12 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:12:12 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:12:12 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:12:12 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:12:12 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:12:12 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:12:23 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:23 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:12:24 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:12:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:12:24 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:12:24 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:12:24 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:12:24 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:12:24 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:12:24 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:12:24 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:12:26 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.77 秒[0m
2025-07-01 14:12:26 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:14:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:14:24 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:14:24 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:14:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:14:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:14:24 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:14:24 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:14:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:34 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:14:34 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:14:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:34 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:14:34 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:14:34 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:14:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:14:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:14:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:14:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:14:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:38 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:14:38 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:14:38 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:14:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:14:38 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:14:38 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:14:38 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:14:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:43 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:14:44 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:14:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:44 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:14:44 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:14:44 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:14:44 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:14:44 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:14:44 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:14:44 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:14:44 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:14:46 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.93 秒[0m
2025-07-01 14:14:46 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:17:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:17:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:17:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:17:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:17:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:17:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:17:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:17:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:34 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:17:34 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:17:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:34 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:17:34 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:17:34 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:17:34 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:17:34 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:17:34 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:17:34 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:17:34 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:17:36 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.68 秒[0m
2025-07-01 14:17:36 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 14:18:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:30 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 14:18:30 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 14:18:30 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 14:18:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 14:18:30 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 14:18:30 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 14:18:30 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 14:18:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:35 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 14:18:35 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 14:18:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:18:35 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:18:35 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 14:18:35 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 14:18:35 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 14:18:35 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 14:18:35 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 14:18:35 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 14:18:37 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.81 秒[0m
2025-07-01 14:18:37 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: msyh.ttc, 字号: 16[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:21:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:21:48 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:21:48 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:21:48 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:21:48 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:21:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:48 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 14:21:48 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 14:21:48 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 6 个候选框 (阈值: 0.6)[0m
2025-07-01 14:21:48 - CoreDetection - [32mINFO[0m - [32m检测到 6 个气泡候选框。[0m
2025-07-01 14:21:48 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 6 个有效气泡坐标。[0m
2025-07-01 14:21:48 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 6 个气泡 (耗时: 0.74s)[0m
2025-07-01 14:21:48 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:21:48 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 6 个气泡...[0m
2025-07-01 14:21:48 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:49 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '．．．うんうんかわいいかわかいい！'[0m
2025-07-01 14:21:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:49 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'ち．．．違う'[0m
2025-07-01 14:21:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:49 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'その後真尋を巡る争いが起こりギルドは消滅した'[0m
2025-07-01 14:21:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:50 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: '違うんだーッ！！'[0m
2025-07-01 14:21:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:50 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: '．．．何してんの？'[0m
2025-07-01 14:21:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:21:50 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: '．．．．．．．'[0m
2025-07-01 14:21:50 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.67s)[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 6[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '．．．うんうんかわいいかわかいい！'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'ち．．．違う'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'その後真尋を巡る争いが起こりギルドは消滅した'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: '違うんだーッ！！'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: '．．．何してんの？'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: '．．．．．．．'[0m
2025-07-01 14:21:50 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:21:50 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 6 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:21:50 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．うんうんかわいいかわかいい！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:21:54 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．うんうんかわいいかわかいい！...' -> '嗯嗯，好可爱好可爱！...'[0m
2025-07-01 14:21:54 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ち．．．違う...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:21:58 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ち．．．違う...' -> '不...不对...'[0m
2025-07-01 14:21:58 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'その後真尋を巡る争いが起こりギルドは消滅した...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:22:02 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'その後真尋を巡る争いが起こりギルドは消滅した...' -> '后来围绕真寻的纷争导致公会瓦解。...'[0m
2025-07-01 14:22:02 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '違うんだーッ！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:22:05 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '違うんだーッ！！...' -> '不对！！...'[0m
2025-07-01 14:22:05 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．何してんの？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:22:08 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．何してんの？...' -> '你在干什么？...'[0m
2025-07-01 14:22:08 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:22:12 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．．...' -> '……...'[0m
2025-07-01 14:22:12 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 6[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯嗯，好可爱好可爱！'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不...不对'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '后来围绕真寻的纷争导致公会瓦解。'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '不对！！'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '你在干什么？'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '……'[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 22.00s)[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:22:12 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:22:12 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：6[0m
2025-07-01 14:22:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:12 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 14:22:12 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:22:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.63s)[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m开始渲染 6 个气泡的文本...[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 48)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 54)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 57)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 59)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 55)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 56)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 56px (范围: 12-60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:22:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\NotoSans-Medium.ttf (大小: 60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:22:13 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.04s)[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:22:13 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 25.11s[0m
2025-07-01 14:22:13 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "simfang.ttf", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: simfang.ttf, 字号: 16[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:24:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:29 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: simfang.ttf, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:24:29 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:24:29 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:24:29 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:24:29 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:24:30 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 7 个候选框 (阈值: 0.6)[0m
2025-07-01 14:24:30 - CoreDetection - [32mINFO[0m - [32m检测到 7 个气泡候选框。[0m
2025-07-01 14:24:30 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 7 个有效气泡坐标。[0m
2025-07-01 14:24:30 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 7 个气泡 (耗时: 0.28s)[0m
2025-07-01 14:24:30 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:24:30 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 7 个气泡...[0m
2025-07-01 14:24:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:30 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'これじゃあ背景で台無しだ！'[0m
2025-07-01 14:24:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:30 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'いやさすがに送らないけど'[0m
2025-07-01 14:24:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:31 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '試しに撮るだけ．．．'[0m
2025-07-01 14:24:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:31 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'なんか楽しくなってきたぞ'[0m
2025-07-01 14:24:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:31 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'ん～～こんな感じ．．．？'[0m
2025-07-01 14:24:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:31 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'おっ使えそう！'[0m
2025-07-01 14:24:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:24:32 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'リビングなら綺麗だろう'[0m
2025-07-01 14:24:32 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.93s)[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 7[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'これじゃあ背景で台無しだ！'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'いやさすがに送らないけど'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '試しに撮るだけ．．．'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'なんか楽しくなってきたぞ'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'ん～～こんな感じ．．．？'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'おっ使えそう！'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'リビングなら綺麗だろう'[0m
2025-07-01 14:24:32 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:24:32 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 7 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:24:32 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'これじゃあ背景で台無しだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:24:46 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'これじゃあ背景で台無しだ！...' -> '这样背景就全毁了！...'[0m
2025-07-01 14:24:46 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いやさすがに送らないけど...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:24:50 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いやさすがに送らないけど...' -> '不过确实不会发送...'[0m
2025-07-01 14:24:50 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '試しに撮るだけ．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:24:53 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '試しに撮るだけ．．．...' -> '只是试着拍一下......'[0m
2025-07-01 14:24:53 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'なんか楽しくなってきたぞ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:24:57 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'なんか楽しくなってきたぞ...' -> '开始觉得有点开心了呢...'[0m
2025-07-01 14:24:57 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ん～～こんな感じ．．．？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:25:00 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ん～～こんな感じ．．．？...' -> '嗯~~这种感觉...？...'[0m
2025-07-01 14:25:00 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'おっ使えそう！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:25:03 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'おっ使えそう！...' -> '好像能用！...'[0m
2025-07-01 14:25:03 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'リビングなら綺麗だろう...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:25:07 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'リビングなら綺麗だろう...' -> '客厅应该很干净吧...'[0m
2025-07-01 14:25:07 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 7[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '这样背景就全毁了！'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不过确实不会发送'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '只是试着拍一下...'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '开始觉得有点开心了呢'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '嗯~~这种感觉...？'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '好像能用！'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '客厅应该很干净吧'[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 35.12s)[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:25:07 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：7[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 14:25:07 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.52s)[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m开始渲染 7 个气泡的文本...[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 36)[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 48)[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 54)[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 57)[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 59)[0m
2025-07-01 14:25:07 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\simfang.ttf (大小: 60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:25:07 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:25:07 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 37.93s[0m
2025-07-01 14:25:08 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "STLITI.TTF", "textDirection": "vertical", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m文字方向: vertical, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:26:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:26:04 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:26:04 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:26:04 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:26:04 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:26:04 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 6 个候选框 (阈值: 0.6)[0m
2025-07-01 14:26:04 - CoreDetection - [32mINFO[0m - [32m检测到 6 个气泡候选框。[0m
2025-07-01 14:26:04 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 6 个有效气泡坐标。[0m
2025-07-01 14:26:04 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 6 个气泡 (耗时: 0.28s)[0m
2025-07-01 14:26:04 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:26:04 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 6 个气泡...[0m
2025-07-01 14:26:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:05 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'そんじゃ軽くアクセでも見てく？'[0m
2025-07-01 14:26:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:05 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'よーしまひろちゃんとデートだ〜〜'[0m
2025-07-01 14:26:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:05 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'いやー実は上映までまだかなり時間が．．．'[0m
2025-07-01 14:26:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:05 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'ハメられたーーッ'[0m
2025-07-01 14:26:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:06 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'そうねぇ'[0m
2025-07-01 14:26:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:06 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'おおい映画は！？'[0m
2025-07-01 14:26:06 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.70s)[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 6[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'そんじゃ軽くアクセでも見てく？'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'よーしまひろちゃんとデートだ〜〜'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'いやー実は上映までまだかなり時間が．．．'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'ハメられたーーッ'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'そうねぇ'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'おおい映画は！？'[0m
2025-07-01 14:26:06 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:26:06 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 6 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:26:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'そんじゃ軽くアクセでも見てく？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:09 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'そんじゃ軽くアクセでも見てく？...' -> '那要不要顺便看看加速性能？...'[0m
2025-07-01 14:26:09 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'よーしまひろちゃんとデートだ〜〜...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:13 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'よーしまひろちゃんとデートだ〜〜...' -> '好耶～和广酱约会啦～～...'[0m
2025-07-01 14:26:13 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いやー実は上映までまだかなり時間が．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:17 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いやー実は上映までまだかなり時間が．．．...' -> '哎呀，其实离上映还有挺长一段时间呢......'[0m
2025-07-01 14:26:17 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ハメられたーーッ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:21 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ハメられたーーッ...' -> '我被算计了！...'[0m
2025-07-01 14:26:21 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'そうねぇ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:24 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'そうねぇ...' -> '嗯......'[0m
2025-07-01 14:26:24 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'おおい映画は！？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:26:27 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'おおい映画は！？...' -> '喂，电影呢！？...'[0m
2025-07-01 14:26:27 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 6[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '那要不要顺便看看加速性能？'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '好耶～和广酱约会啦～～'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '哎呀，其实离上映还有挺长一段时间呢...'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '我被算计了！'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '嗯...'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '喂，电影呢！？'[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 21.61s)[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:26:27 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:26:28 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：6[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 14:26:28 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.59s)[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m开始渲染 6 个气泡的文本...[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 36)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 48)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 54)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 57)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 59)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 60)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 51)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 49)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 50)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 50px (范围: 12-60)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 58)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 58px (范围: 12-60)[0m
2025-07-01 14:26:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\NotoSans-Medium.ttf (大小: 58)[0m
2025-07-01 14:26:28 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.05s)[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:26:28 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 24.27s[0m
2025-07-01 14:26:29 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "STLITI.TTF", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#ffffff", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#ffffff", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#ffffff, width=2[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:27:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:27:26 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:27:26 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:27:26 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:27:26 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:27:27 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 6 个候选框 (阈值: 0.6)[0m
2025-07-01 14:27:27 - CoreDetection - [32mINFO[0m - [32m检测到 6 个气泡候选框。[0m
2025-07-01 14:27:27 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 6 个有效气泡坐标。[0m
2025-07-01 14:27:27 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 6 个气泡 (耗时: 0.28s)[0m
2025-07-01 14:27:27 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:27:27 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 6 个气泡...[0m
2025-07-01 14:27:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:27 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'えっ．．．今の腹筋！？'[0m
2025-07-01 14:27:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:27 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'いででで．．．さっそく筋肉痛が．．：'[0m
2025-07-01 14:27:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:27 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '．．．．．．．．'[0m
2025-07-01 14:27:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:28 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: '．．．あのねぇどうせならマジメに：'[0m
2025-07-01 14:27:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:28 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'まずは男らしい体作りからだ！'[0m
2025-07-01 14:27:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:28 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'そして、そんなアホなんな'[0m
2025-07-01 14:27:28 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.74s)[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 6[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'えっ．．．今の腹筋！？'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'いででで．．．さっそく筋肉痛が．．：'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '．．．．．．．．'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: '．．．あのねぇどうせならマジメに：'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'まずは男らしい体作りからだ！'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'そして、そんなアホなんな'[0m
2025-07-01 14:27:28 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:27:28 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 6 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:27:28 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'えっ．．．今の腹筋！？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:32 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'えっ．．．今の腹筋！？...' -> '诶...刚才那是腹肌！？...'[0m
2025-07-01 14:27:32 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いででで．．．さっそく筋肉痛が．．：...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:35 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いででで．．．さっそく筋肉痛が．．：...' -> '哎呀呀...这么快就肌肉酸痛了......'[0m
2025-07-01 14:27:35 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:38 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．．．...' -> '……...'[0m
2025-07-01 14:27:38 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．あのねぇどうせならマジメに：...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:42 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．あのねぇどうせならマジメに：...' -> '...那个啊，既然要做就认真做。...'[0m
2025-07-01 14:27:42 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'まずは男らしい体作りからだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:46 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'まずは男らしい体作りからだ！...' -> '首先从打造男子汉的体魄开始！...'[0m
2025-07-01 14:27:46 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'そして、そんなアホなんな...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:27:49 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'そして、そんなアホなんな...' -> '而且，这么愚蠢的事情...'[0m
2025-07-01 14:27:49 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 6[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '诶...刚才那是腹肌！？'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '哎呀呀...这么快就肌肉酸痛了...'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '……'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '...那个啊，既然要做就认真做。'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '首先从打造男子汉的体魄开始！'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '而且，这么愚蠢的事情'[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 20.65s)[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:27:49 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:27:49 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：6[0m
2025-07-01 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:49 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #ffffff[0m
2025-07-01 14:27:49 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:27:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.61s)[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m开始渲染 6 个气泡的文本...[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 59px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 57px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:27:50 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:27:50 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 23.35s[0m
2025-07-01 14:27:50 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": false, "fontFamily": "STLITI.TTF", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": true, "textStrokeColor": "#A61515FF", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#BE5B5BFF", "text_color": "#6D1C1CFF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#A61515FF, width=2[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:37:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:37:24 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:37:24 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:37:24 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:37:24 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:37:24 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 7 个候选框 (阈值: 0.6)[0m
2025-07-01 14:37:24 - CoreDetection - [32mINFO[0m - [32m检测到 7 个气泡候选框。[0m
2025-07-01 14:37:24 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 7 个有效气泡坐标。[0m
2025-07-01 14:37:24 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 7 个气泡 (耗时: 0.26s)[0m
2025-07-01 14:37:24 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:37:24 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 7 个气泡...[0m
2025-07-01 14:37:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:25 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'これじゃあ背景で台無しだ！'[0m
2025-07-01 14:37:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:25 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'いやさすがに送らないけど'[0m
2025-07-01 14:37:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:25 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '試しに撮るだけ．．．'[0m
2025-07-01 14:37:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:25 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'なんか楽しくなってきたぞ'[0m
2025-07-01 14:37:25 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:26 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'ん～～こんな感じ．．．？'[0m
2025-07-01 14:37:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:26 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'おっ使えそう！'[0m
2025-07-01 14:37:26 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:37:26 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'リビングなら綺麗だろう'[0m
2025-07-01 14:37:26 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.96s)[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 7[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'これじゃあ背景で台無しだ！'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'いやさすがに送らないけど'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '試しに撮るだけ．．．'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'なんか楽しくなってきたぞ'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'ん～～こんな感じ．．．？'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'おっ使えそう！'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'リビングなら綺麗だろう'[0m
2025-07-01 14:37:26 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:37:26 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 7 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:37:26 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'これじゃあ背景で台無しだ！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:37:41 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'これじゃあ背景で台無しだ！...' -> '这样背景就全毁了！...'[0m
2025-07-01 14:37:41 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いやさすがに送らないけど...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:37:47 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いやさすがに送らないけど...' -> '不过还是不发了吧...'[0m
2025-07-01 14:37:47 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '試しに撮るだけ．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:37:50 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '試しに撮るだけ．．．...' -> '只是试拍一下......'[0m
2025-07-01 14:37:50 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'なんか楽しくなってきたぞ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:37:54 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'なんか楽しくなってきたぞ...' -> '开始有点开心起来了呢...'[0m
2025-07-01 14:37:54 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ん～～こんな感じ．．．？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:37:58 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ん～～こんな感じ．．．？...' -> '嗯～～就是这种感觉……？...'[0m
2025-07-01 14:37:58 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'おっ使えそう！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:38:02 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'おっ使えそう！...' -> '好像能用！...'[0m
2025-07-01 14:38:02 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'リビングなら綺麗だろう...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:38:05 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'リビングなら綺麗だろう...' -> '客厅应该很干净吧...'[0m
2025-07-01 14:38:05 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 7[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '这样背景就全毁了！'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不过还是不发了吧'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '只是试拍一下...'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '开始有点开心起来了呢'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '嗯～～就是这种感觉……？'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '好像能用！'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '客厅应该很干净吧'[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 39.10s)[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:38:05 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:38:05 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：7[0m
2025-07-01 14:38:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:38:05 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #BE5B5BFF[0m
2025-07-01 14:38:05 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:38:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.53s)[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:38:06 - CoreRendering - [32mINFO[0m - [32m开始渲染 7 个气泡的文本...[0m
2025-07-01 14:38:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:38:06 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 16)[0m
2025-07-01 14:38:06 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.04s)[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:38:06 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 41.94s[0m
2025-07-01 14:38:06 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "STLITI.TTF", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": true, "textStrokeColor": "#A61515FF", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#983333FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#A61515FF, width=2[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:40:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:40:30 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:40:30 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:40:30 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:40:30 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:40:30 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 6 个候选框 (阈值: 0.6)[0m
2025-07-01 14:40:30 - CoreDetection - [32mINFO[0m - [32m检测到 6 个气泡候选框。[0m
2025-07-01 14:40:30 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 6 个有效气泡坐标。[0m
2025-07-01 14:40:30 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 6 个气泡 (耗时: 0.27s)[0m
2025-07-01 14:40:30 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:40:30 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 6 个气泡...[0m
2025-07-01 14:40:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:30 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '．．．うんうんかわいいかわかいい！'[0m
2025-07-01 14:40:30 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:31 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'ち．．．違う'[0m
2025-07-01 14:40:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:31 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'その後真尋を巡る争いが起こりギルドは消滅した'[0m
2025-07-01 14:40:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:31 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: '違うんだーッ！！'[0m
2025-07-01 14:40:31 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:32 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: '．．．何してんの？'[0m
2025-07-01 14:40:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:40:32 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: '．．．．．．．'[0m
2025-07-01 14:40:32 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.78s)[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 6[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '．．．うんうんかわいいかわかいい！'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'ち．．．違う'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'その後真尋を巡る争いが起こりギルドは消滅した'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: '違うんだーッ！！'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: '．．．何してんの？'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: '．．．．．．．'[0m
2025-07-01 14:40:32 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:40:32 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 6 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:40:32 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．うんうんかわいいかわかいい！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:40:47 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．うんうんかわいいかわかいい！...' -> '嗯嗯，好可爱好可爱！...'[0m
2025-07-01 14:40:47 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ち．．．違う...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:40:51 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ち．．．違う...' -> '不...不对...'[0m
2025-07-01 14:40:51 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'その後真尋を巡る争いが起こりギルドは消滅した...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:40:55 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'その後真尋を巡る争いが起こりギルドは消滅した...' -> '之后围绕真寻的争斗导致公会瓦解。...'[0m
2025-07-01 14:40:55 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '違うんだーッ！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:41:09 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '違うんだーッ！！...' -> '不对啊！！...'[0m
2025-07-01 14:41:09 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．何してんの？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:41:13 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．何してんの？...' -> '你在干什么？...'[0m
2025-07-01 14:41:13 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:41:27 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．．...' -> '……...'[0m
2025-07-01 14:41:27 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 6[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯嗯，好可爱好可爱！'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '不...不对'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '之后围绕真寻的争斗导致公会瓦解。'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '不对啊！！'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '你在干什么？'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '……'[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 55.51s)[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:41:27 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:41:27 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：6[0m
2025-07-01 14:41:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:41:27 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #983333FF[0m
2025-07-01 14:41:27 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:41:27 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.50s)[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m开始渲染 6 个气泡的文本...[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:41:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 55)[0m
2025-07-01 14:41:28 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 56)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 56px (范围: 12-60)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:41:28 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:41:28 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 58.13s[0m
2025-07-01 14:41:28 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "STLITI.TTF", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": true, "textStrokeColor": "#A61515FF", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#983333FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#A61515FF, width=2[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 14:58:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 14:58:04 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 14:58:04 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 14:58:04 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 14:58:04 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 14:58:04 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 7 个候选框 (阈值: 0.6)[0m
2025-07-01 14:58:04 - CoreDetection - [32mINFO[0m - [32m检测到 7 个气泡候选框。[0m
2025-07-01 14:58:04 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 7 个有效气泡坐标。[0m
2025-07-01 14:58:04 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 7 个气泡 (耗时: 0.29s)[0m
2025-07-01 14:58:04 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 14:58:04 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 7 个气泡...[0m
2025-07-01 14:58:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:05 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '気分まで悪くなってきたような．．．'[0m
2025-07-01 14:58:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:05 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'だいぶマシになったかも．．．'[0m
2025-07-01 14:58:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:05 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '．．．．．．はぁ．．：・'[0m
2025-07-01 14:58:05 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:06 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'いや．．．これ．．．なんか．．．．．'[0m
2025-07-01 14:58:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:06 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'あ兄ちゃん！？'[0m
2025-07-01 14:58:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:06 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'へ．．．ちょっと．．．？'[0m
2025-07-01 14:58:06 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:06 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'う．．．うぅ．．．．．'[0m
2025-07-01 14:58:06 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.11s)[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 7[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '気分まで悪くなってきたような．．．'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'だいぶマシになったかも．．．'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '．．．．．．はぁ．．：・'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'いや．．．これ．．．なんか．．．．．'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'あ兄ちゃん！？'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'へ．．．ちょっと．．．？'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'う．．．うぅ．．．．．'[0m
2025-07-01 14:58:06 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 14:58:06 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 7 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 14:58:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '気分まで悪くなってきたような．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:10 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '気分まで悪くなってきたような．．．...' -> '感觉连心情都变差了......'[0m
2025-07-01 14:58:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'だいぶマシになったかも．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:15 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'だいぶマシになったかも．．．...' -> '或许已经好多了......'[0m
2025-07-01 14:58:15 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．はぁ．．：・...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:18 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．はぁ．．：・...' -> '唉……...'[0m
2025-07-01 14:58:18 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いや．．．これ．．．なんか．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:33 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いや．．．これ．．．なんか．．．．．...' -> '不...这个...总觉得......'[0m
2025-07-01 14:58:33 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'あ兄ちゃん！？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:36 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'あ兄ちゃん！？...' -> '哥哥！？...'[0m
2025-07-01 14:58:36 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'へ．．．ちょっと．．．？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:39 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'へ．．．ちょっと．．．？...' -> '喂...等一下...？...'[0m
2025-07-01 14:58:39 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'う．．．うぅ．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 14:58:43 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'う．．．うぅ．．．．．...' -> '呜……呜呜……...'[0m
2025-07-01 14:58:43 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 7[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '感觉连心情都变差了...'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '或许已经好多了...'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '唉……'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '不...这个...总觉得...'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '哥哥！？'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '喂...等一下...？'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '呜……呜呜……'[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 36.79s)[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 14:58:43 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 14:58:43 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：7[0m
2025-07-01 14:58:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:43 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #983333FF[0m
2025-07-01 14:58:43 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 14:58:43 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.49s)[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m开始渲染 7 个气泡的文本...[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 55px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 55px (范围: 12-60)[0m
2025-07-01 14:58:44 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.03s)[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 14:58:44 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 39.75s[0m
2025-07-01 14:58:44 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:39 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:00:39 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:00:39 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:00:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:00:39 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:00:39 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:00:39 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:00:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:46 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:00:46 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:00:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:00:46 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:00:46 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:00:46 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:00:46 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:00:46 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:00:46 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:00:46 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:00:48 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.21 秒[0m
2025-07-01 15:00:48 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:01:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:45 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:45 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:01:45 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:01:45 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:01:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:01:45 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:01:45 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:01:45 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:01:49 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:49 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:01:50 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:01:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:50 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:01:50 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:01:50 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:01:50 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:01:50 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:01:50 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:01:50 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:01:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:53 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:01:53 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:01:53 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:01:53 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:01:53 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:01:53 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:01:53 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:57 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:01:57 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:01:57 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:01:57 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:01:57 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:01:57 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:01:57 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:01:57 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:01:57 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:01:59 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.69 秒[0m
2025-07-01 15:01:59 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 16, "autoFontSize": true, "fontFamily": "STLITI.TTF", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": true, "textStrokeColor": "#A61515FF", "textStrokeWidth": 2, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#983333FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: STLITI.TTF, 字号: 16[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#A61515FF, width=2[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 15:03:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: STLITI.TTF, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 15:03:14 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 15:03:14 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 15:03:14 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 15:03:14 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 15:03:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:14 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 15:03:14 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 15:03:14 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 9 个候选框 (阈值: 0.6)[0m
2025-07-01 15:03:14 - CoreDetection - [32mINFO[0m - [32m检测到 9 个气泡候选框。[0m
2025-07-01 15:03:14 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 9 个有效气泡坐标。[0m
2025-07-01 15:03:14 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 9 个气泡 (耗时: 0.71s)[0m
2025-07-01 15:03:14 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 15:03:14 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 9 个气泡...[0m
2025-07-01 15:03:14 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:15 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'うんうん大丈夫！スカートは濡れてないし'[0m
2025-07-01 15:03:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:15 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: '失敗しちゃたかぁ．．．'[0m
2025-07-01 15:03:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:15 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '替えの下着買ってくるね'[0m
2025-07-01 15:03:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:16 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'いやー混んでてさー'[0m
2025-07-01 15:03:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:16 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'みはりにはナイショだよ☆'[0m
2025-07-01 15:03:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:16 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: '．．．．．．．．ううぅ．．：'[0m
2025-07-01 15:03:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:16 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'あー．．．'[0m
2025-07-01 15:03:16 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:17 - CoreOCR - [32mINFO[0m - [32m气泡 7 识别文本: 'かえでお姉ちゃん．．．♥'[0m
2025-07-01 15:03:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:17 - CoreOCR - [32mINFO[0m - [32m气泡 8 识别文本: '．．．トイレ長くない？'[0m
2025-07-01 15:03:17 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.52s)[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 9[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'うんうん大丈夫！スカートは濡れてないし'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: '失敗しちゃたかぁ．．．'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '替えの下着買ってくるね'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'いやー混んでてさー'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'みはりにはナイショだよ☆'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: '．．．．．．．．ううぅ．．：'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'あー．．．'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 7: 'かえでお姉ちゃん．．．♥'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 8: '．．．トイレ長くない？'[0m
2025-07-01 15:03:17 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 15:03:17 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 9 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 15:03:17 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'うんうん大丈夫！スカートは濡れてないし...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:21 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'うんうん大丈夫！スカートは濡れてないし...' -> '嗯嗯没事！裙子没湿。...'[0m
2025-07-01 15:03:21 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '失敗しちゃたかぁ．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:25 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '失敗しちゃたかぁ．．．...' -> '失败了呀......'[0m
2025-07-01 15:03:25 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '替えの下着買ってくるね...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:29 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '替えの下着買ってくるね...' -> '我去买件替换的内衣。...'[0m
2025-07-01 15:03:29 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'いやー混んでてさー...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:33 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'いやー混んでてさー...' -> '哎呀，人可真多啊。...'[0m
2025-07-01 15:03:33 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'みはりにはナイショだよ☆...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:37 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'みはりにはナイショだよ☆...' -> '这是秘密哦☆...'[0m
2025-07-01 15:03:37 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．．．ううぅ．．：...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:41 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．．．ううぅ．．：...' -> '呜……...'[0m
2025-07-01 15:03:41 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'あー．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:44 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'あー．．．...' -> '啊......'[0m
2025-07-01 15:03:44 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'かえでお姉ちゃん．．．♥...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:48 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'かえでお姉ちゃん．．．♥...' -> '枫姐姐...♥...'[0m
2025-07-01 15:03:48 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．トイレ長くない？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:03:52 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．トイレ長くない？...' -> '．．．厕所不很久吗？...'[0m
2025-07-01 15:03:52 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 9[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯嗯没事！裙子没湿。'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '失败了呀...'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '我去买件替换的内衣。'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '哎呀，人可真多啊。'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '这是秘密哦☆'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '呜……'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '啊...'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 7 翻译结果: '枫姐姐...♥'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本 8 翻译结果: '．．．厕所不很久吗？'[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 34.79s)[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 15:03:52 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：9[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #983333FF[0m
2025-07-01 15:03:52 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.59s)[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m开始渲染 9 个气泡的文本...[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 36)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 48)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 54)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 57)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 59)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:03:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\STLITI.TTF (大小: 55)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 54px (范围: 12-60)[0m
2025-07-01 15:03:52 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.04s)[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 15:03:52 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 38.68s[0m
2025-07-01 15:03:53 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 20, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": true, "textStrokeColor": "#A61515FF", "textStrokeWidth": 5, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#983333FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: msyh.ttc, 字号: 20[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=True, color=#A61515FF, width=5[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 15:07:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 15:07:38 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 15:07:38 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 15:07:38 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 15:07:38 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 15:07:38 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 7 个候选框 (阈值: 0.6)[0m
2025-07-01 15:07:38 - CoreDetection - [32mINFO[0m - [32m检测到 7 个气泡候选框。[0m
2025-07-01 15:07:38 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 7 个有效气泡坐标。[0m
2025-07-01 15:07:38 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 7 个气泡 (耗时: 0.28s)[0m
2025-07-01 15:07:38 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 15:07:38 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 7 个气泡...[0m
2025-07-01 15:07:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:38 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'んー．．．言われてみれば確かに．．：'[0m
2025-07-01 15:07:38 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:39 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: '多分お兄ちゃんの身体は――'[0m
2025-07-01 15:07:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:39 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: 'たとえば．．．胸が張るとか．．．'[0m
2025-07-01 15:07:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:39 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'えーっと．．．他に気になることは無い．．？'[0m
2025-07-01 15:07:39 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:40 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'あ．．．あのねお兄ちゃん．．．'[0m
2025-07-01 15:07:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:40 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'とても言いにくいことなんだけど．．．'[0m
2025-07-01 15:07:40 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:07:40 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'ぐうぅ．．．また腹が．．．．．'[0m
2025-07-01 15:07:40 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 2.24s)[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 7[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'んー．．．言われてみれば確かに．．：'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: '多分お兄ちゃんの身体は――'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: 'たとえば．．．胸が張るとか．．．'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'えーっと．．．他に気になることは無い．．？'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'あ．．．あのねお兄ちゃん．．．'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'とても言いにくいことなんだけど．．．'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'ぐうぅ．．．また腹が．．．．．'[0m
2025-07-01 15:07:40 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 15:07:40 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 7 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 15:07:40 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'んー．．．言われてみれば確かに．．：...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:07:55 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'んー．．．言われてみれば確かに．．：...' -> '嗯...说起来确实......'[0m
2025-07-01 15:07:55 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '多分お兄ちゃんの身体は――...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:07:59 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '多分お兄ちゃんの身体は――...' -> '大概哥哥的身体——...'[0m
2025-07-01 15:07:59 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'たとえば．．．胸が張るとか．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:08:03 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'たとえば．．．胸が張るとか．．．...' -> '比如说...胸部胀痛之类的......'[0m
2025-07-01 15:08:03 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'えーっと．．．他に気になることは無い．．？...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:08:07 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'えーっと．．．他に気になることは無い．．？...' -> '嗯...还有其他在意的事情吗...？...'[0m
2025-07-01 15:08:07 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'あ．．．あのねお兄ちゃん．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:08:11 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'あ．．．あのねお兄ちゃん．．．...' -> '啊...那个...哥哥......'[0m
2025-07-01 15:08:11 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'とても言いにくいことなんだけど．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:08:14 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'とても言いにくいことなんだけど．．．...' -> '有件事很难启齿……...'[0m
2025-07-01 15:08:14 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ぐうぅ．．．また腹が．．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:08:18 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ぐうぅ．．．また腹が．．．．．...' -> '咕...肚子又......'[0m
2025-07-01 15:08:18 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 7[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '嗯...说起来确实...'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '大概哥哥的身体——'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '比如说...胸部胀痛之类的...'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '嗯...还有其他在意的事情吗...？'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '啊...那个...哥哥...'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '有件事很难启齿……'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '咕...肚子又...'[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 37.86s)[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 15:08:18 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 15:08:18 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：7[0m
2025-07-01 15:08:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:18 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #983333FF[0m
2025-07-01 15:08:18 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 15:08:18 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.53s)[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m开始渲染 7 个气泡的文本...[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 48)[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 54)[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 57)[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 59)[0m
2025-07-01 15:08:19 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:08:19 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.04s)[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 15:08:19 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 40.98s[0m
2025-07-01 15:08:19 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 20, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#A61515FF", "textStrokeWidth": 5, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#FFB5B5FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: msyh.ttc, 字号: 20[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#A61515FF, width=5[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 15:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 15:08:54 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 15:08:54 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 15:08:54 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 15:08:54 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 15:08:54 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 5 个候选框 (阈值: 0.6)[0m
2025-07-01 15:08:54 - CoreDetection - [32mINFO[0m - [32m检测到 5 个气泡候选框。[0m
2025-07-01 15:08:54 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 5 个有效气泡坐标。[0m
2025-07-01 15:08:54 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 5 个气泡 (耗时: 0.26s)[0m
2025-07-01 15:08:54 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 15:08:54 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 5 个气泡...[0m
2025-07-01 15:08:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:55 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: 'ちょっと髪をまとめようと思ってきた．．．'[0m
2025-07-01 15:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:55 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: '．．．最近暑くなってきただろ'[0m
2025-07-01 15:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:55 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '何やってんだオレーーー'[0m
2025-07-01 15:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:55 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: '．．．．．．って'[0m
2025-07-01 15:08:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:08:56 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'やだかわいい！！'[0m
2025-07-01 15:08:56 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 1.39s)[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 5[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: 'ちょっと髪をまとめようと思ってきた．．．'[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: '．．．最近暑くなってきただろ'[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '何やってんだオレーーー'[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: '．．．．．．って'[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'やだかわいい！！'[0m
2025-07-01 15:08:56 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 15:08:56 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 5 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 15:08:56 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ちょっと髪をまとめようと思ってきた．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:09:10 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ちょっと髪をまとめようと思ってきた．．．...' -> '我想把头发扎起来......'[0m
2025-07-01 15:09:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．最近暑くなってきただろ...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:09:15 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．最近暑くなってきただろ...' -> '最近天气开始热起来了。...'[0m
2025-07-01 15:09:15 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '何やってんだオレーーー...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:09:19 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '何やってんだオレーーー...' -> '我在搞什么啊——...'[0m
2025-07-01 15:09:19 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '．．．．．．って...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:09:34 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '．．．．．．って...' -> '……...'[0m
2025-07-01 15:09:34 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'やだかわいい！！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 15:09:37 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'やだかわいい！！...' -> '讨厌，好可爱！！...'[0m
2025-07-01 15:09:37 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 5[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '我想把头发扎起来...'[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '最近天气开始热起来了。'[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '我在搞什么啊——'[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '……'[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '讨厌，好可爱！！'[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 41.67s)[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 15:09:37 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 15:09:37 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：5[0m
2025-07-01 15:09:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:09:37 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #FFB5B5FF[0m
2025-07-01 15:09:37 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 15:09:37 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.61s)[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m开始渲染 5 个气泡的文本...[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 15:09:38 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.01s)[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 15:09:38 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 44.00s[0m
2025-07-01 15:09:38 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:14:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:41 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:41 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:14:41 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:14:41 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:14:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:14:41 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:14:41 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:14:41 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:14:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:46 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:14:46 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:14:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:14:46 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:14:46 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:14:46 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:14:46 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:14:46 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:14:46 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:14:46 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:14:47 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.63 秒[0m
2025-07-01 15:14:47 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:22:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:52 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:52 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:22:52 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:22:52 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:22:52 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:22:52 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:22:52 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:22:52 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:22:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:59 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:22:59 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:22:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:59 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:22:59 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:22:59 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:22:59 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:22:59 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:22:59 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:22:59 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:22:59 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:23:02 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.45 秒[0m
2025-07-01 15:23:02 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:23:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:08 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:08 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:23:08 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:23:08 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:23:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:23:08 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:23:08 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:23:08 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:23:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:13 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:23:13 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:23:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:13 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:23:13 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:23:13 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:23:13 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:23:13 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:23:13 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:23:13 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:23:13 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:23:15 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.86 秒[0m
2025-07-01 15:23:15 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 15:25:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:11 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:11 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 15:25:11 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 15:25:11 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 15:25:11 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 15:25:11 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 15:25:11 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 15:25:11 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 15:25:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:15 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 15:25:15 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 15:25:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:15 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 15:25:15 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:25:15 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 15:25:15 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 15:25:15 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 15:25:16 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 15:25:16 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 15:25:16 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 15:25:16 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 15:25:16 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 15:25:16 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 15:25:16 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 15:25:16 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 15:25:17 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.97 秒[0m
2025-07-01 15:25:17 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 16:15:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:04 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:04 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 16:15:04 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 16:15:04 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 16:15:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 16:15:04 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 16:15:04 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 16:15:04 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 16:15:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:12 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 16:15:12 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 16:15:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:12 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:12 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 16:15:12 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 16:15:12 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 16:15:12 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 16:15:12 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 16:15:12 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 16:15:12 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 16:15:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:17 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:17 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 16:15:17 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 16:15:17 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 16:15:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 16:15:17 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 16:15:17 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 16:15:17 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 16:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:22 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 16:15:22 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 16:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:22 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 16:15:22 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 16:15:22 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 16:15:22 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 16:15:22 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 16:15:22 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 16:15:22 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 16:15:22 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 16:15:24 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 1.87 秒[0m
2025-07-01 16:15:24 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 17:26:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:24 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:24 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 17:26:24 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 17:26:24 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 17:26:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 17:26:24 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 17:26:24 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 17:26:24 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 17:26:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:32 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 17:26:32 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 17:26:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:32 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:32 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 17:26:32 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 17:26:32 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 17:26:32 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 17:26:32 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 17:26:32 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 17:26:32 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 17:26:34 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.06 秒[0m
2025-07-01 17:26:34 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m漫画翻译器启动[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m==============================[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m系统信息: Windows-11-10.0.22000-SP0[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32mPython版本: 3.12.4[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m已手动添加 '.js' 的 MIME 类型为 'text/javascript'[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m创建插件管理器实例...[0m
2025-07-01 17:26:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:46 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:46 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\plugin_default_states.json[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m已加载插件默认启用状态: {'示例插件': False, '文本装饰器': False}[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m插件管理器初始化，扫描目录: ['C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\src/plugins', 'C:\\Users\\Administrator\\Desktop\\flask\\Saber-Translator\\Saber-Translator-main\\plugins'][0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m开始发现和加载插件...[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src/plugins[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m扫描插件目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\plugins[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m发现插件类: ExamplePlugin in example_plugin[0m
2025-07-01 17:26:46 - Plugin.示例插件 - [32mINFO[0m - [32m示例插件正在设置...[0m
2025-07-01 17:26:46 - Plugin.示例插件 - [32mINFO[0m - [32m插件 '示例插件' 配置已加载: {}[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m插件 '示例插件' 加载、配置并设置成功。[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m发现插件类: TextAffixerPlugin in text_affixer[0m
2025-07-01 17:26:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m'文本装饰器' 插件已加载并设置。[0m
2025-07-01 17:26:46 - Plugin.文本装饰器 - [32mINFO[0m - [32m插件 '文本装饰器' 配置已加载: {'text_prefix': '', 'text_suffix': '', 'apply_to_textbox': False}[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m插件 '文本装饰器' 加载、配置并设置成功。[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m插件加载完成，共加载 2 个插件。[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m根据用户设置启用插件...[0m
2025-07-01 17:26:46 - PluginManager - [32mINFO[0m - [32m共启用 0 个插件（根据用户设置）。[0m
2025-07-01 17:26:46 - comic_translator - [32mINFO[0m - [32m插件管理器初始化完成。[0m
2025-07-01 17:26:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:50 - LAMAInterface - [33mWARNING[0m - [33m未找到 sd-webui-cleaner 目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\sd-webui-cleaner，LAMA 功能不可用。[0m
2025-07-01 17:26:50 - comic_translator - [32mINFO[0m - [32m蓝图注册成功[0m
2025-07-01 17:26:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:50 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:50 - SystemAPI - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 17:26:50 - sakura_service_checker - [32mINFO[0m - [32m启动Sakura服务监控线程[0m
2025-07-01 17:26:50 - comic_translator - [32mINFO[0m - [32m服务监控线程已启动[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m在后台线程中预加载 MangaOCR 模型...[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m已提高预加载线程优先级[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m开始初始化 MangaOCR 实例，如果首次使用可能会自动下载模型文件。[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程。[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m未检测到GPU，将使用CPU运行[0m
2025-07-01 17:26:50 - comic_translator - [32mINFO[0m - [32m已启动 MangaOCR 模型预加载线程[0m
2025-07-01 17:26:50 - MangaOCRInterface - [32mINFO[0m - [32m优先使用本地模型，已设置离线模式...[0m
2025-07-01 17:26:50 - comic_translator - [32mINFO[0m - [32m程序正在运行，请在浏览器中访问 http://127.0.0.1:5000/[0m
2025-07-01 17:26:50 - MangaOCRInterface - [33mWARNING[0m - [33m无法修改transformers网络请求函数: module 'transformers.utils' has no attribute 'http_get_request'[0m
2025-07-01 17:26:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 17:26:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 17:26:51 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 17:26:51 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 17:26:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 17:26:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 17:26:51 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 17:26:51 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 17:26:51 - ConfigLoader - [32mINFO[0m - [32m成功加载 JSON 配置文件: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\prompts.json[0m
2025-07-01 17:26:51 - ConfigLoader - [33mWARNING[0m - [33mJSON 配置文件未找到: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\config\textbox_prompts.json，返回默认值。[0m
2025-07-01 17:26:51 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:52 - MangaOCRInterface - [32mINFO[0m - [32mMangaOCR 实例初始化成功。耗时: 2.10 秒[0m
2025-07-01 17:26:52 - MangaOCRInterface - [32mINFO[0m - [32m✅ MangaOCR 模型预加载成功，可以立即使用。[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m请求参数（不含图片数据）: {"api_key": "sk-da5ff127540d4c9cb8ff1bb1ae16f71d", "model_name": "deepseek-chat", "model_provider": "deepseek", "prompt_content": "你是一个好用的翻译助手。请将我的非中文语句段落连成一句或几句话并翻译成中文，我发给你所有的话都是需要翻译的内容，你只需要回答翻译结果。特别注意：翻译结果字数不能超过原文字数！翻译结果请符合中文的语言习惯。", "custom_base_url": "", "rpm_limit_translation": 0, "fontSize": 20, "autoFontSize": true, "fontFamily": "msyh.ttc", "textDirection": "horizontal", "rotation_angle": 0, "enableTextStroke": false, "textStrokeColor": "#A61515FF", "textStrokeWidth": 5, "ocr_engine": "manga_ocr", "baidu_api_key": "", "baidu_secret_key": "", "baidu_version": "standard", "ai_vision_provider": "siliconflow", "ai_vision_api_key": "", "ai_vision_model_name": "", "ai_vision_ocr_prompt": "", "custom_ai_vision_base_url": "", "use_json_format_ai_vision_ocr": false, "rpm_limit_ai_vision_ocr": 0, "fill_color": "#FFB5B5FF", "text_color": "#000000FF", "use_inpainting": false, "blend_edges": true, "inpainting_strength": 50, "use_lama": false, "skip_translation": false, "skip_ocr": false, "remove_only": false, "use_textbox_prompt": false, "textbox_prompt_content": "", "use_json_format_translation": false, "bubble_coords": [], "target_language": "zh", "source_language": "ja"}[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m----- 翻译请求参数 -----[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m气泡填充方式: useInpainting=False, useLama=False[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m文字方向: horizontal, 字体: msyh.ttc, 字号: 20[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m跳过翻译: False, 跳过OCR: False[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m仅消除模式: False[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32mJSON输出模式: 翻译=False, AI视觉OCR=False[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32mrpm 设置: 翻译服务 rpm=0, AI视觉OCR rpm=0[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m描边设置: enable=False, color=#A61515FF, width=5[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m------------------------[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m自定义 OpenAI Base URL: 未提供[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m使用自动字体大小[0m
2025-07-01 17:26:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m原始字体路径: msyh.ttc, 修正后: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m图像成功加载，大小: (1700, 2200)[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m未提供手动标注气泡坐标，将自动检测[0m
2025-07-01 17:26:53 - TranslateAPI - [32mINFO[0m - [32m使用纯色填充方式[0m
2025-07-01 17:26:53 - CoreProcessing - [32mINFO[0m - [32m开始处理图像翻译流程: 源=ja, 目标=zh, 修复=solid[0m
2025-07-01 17:26:53 - CoreProcessing - [32mINFO[0m - [32mBEFORE_PROCESSING 钩子修改了参数/图像。[0m
2025-07-01 17:26:53 - CoreProcessing - [32mINFO[0m - [32m步骤 1: 检测气泡坐标...[0m
2025-07-01 17:26:53 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:53 - YOLOv12Interface - [32mINFO[0m - [32m开始加载 YOLOv12 本地模型: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\weights\best.pt[0m
2025-07-01 17:26:53 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 本地模型加载成功[0m
2025-07-01 17:26:54 - YOLOv12Interface - [32mINFO[0m - [32mYOLOv12 检测到 9 个候选框 (阈值: 0.6)[0m
2025-07-01 17:26:54 - CoreDetection - [32mINFO[0m - [32m检测到 9 个气泡候选框。[0m
2025-07-01 17:26:54 - CoreDetection - [32mINFO[0m - [32m最终获取并排序了 9 个有效气泡坐标。[0m
2025-07-01 17:26:54 - CoreProcessing - [32mINFO[0m - [32m气泡检测完成，找到 9 个气泡 (耗时: 0.72s)[0m
2025-07-01 17:26:54 - CoreProcessing - [32mINFO[0m - [32m步骤 2: OCR 识别文本...[0m
2025-07-01 17:26:54 - CoreOCR - [32mINFO[0m - [32m开始使用 MangaOCR 逐个识别 9 个气泡...[0m
2025-07-01 17:26:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:54 - CoreOCR - [32mINFO[0m - [32m气泡 0 识别文本: '：：：ひとついいコト教えたげる'[0m
2025-07-01 17:26:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:54 - CoreOCR - [32mINFO[0m - [32m气泡 1 识别文本: 'もしお兄ちゃんが急にそんなの体験しちゃったら．．．'[0m
2025-07-01 17:26:54 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:55 - CoreOCR - [32mINFO[0m - [32m气泡 2 识别文本: '女の子の快感はね男の１００倍くらい凄いんだって．．．'[0m
2025-07-01 17:26:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:55 - CoreOCR - [32mINFO[0m - [32m气泡 3 识别文本: 'お言葉に甘えて堪能させて貰おう．．．！'[0m
2025-07-01 17:26:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:55 - CoreOCR - [32mINFO[0m - [32m气泡 4 识别文本: 'そこまで言うなら仕方ない．．．'[0m
2025-07-01 17:26:55 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:56 - CoreOCR - [32mINFO[0m - [32m气泡 5 识别文本: 'そういや勝手に部屋に入んなっての'[0m
2025-07-01 17:26:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:56 - CoreOCR - [32mINFO[0m - [32m气泡 6 识别文本: 'ほーら早く出てった出てーった！'[0m
2025-07-01 17:26:56 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:57 - CoreOCR - [32mINFO[0m - [32m气泡 7 识别文本: 'まあ．．．できればもう少し早起きを．．．'[0m
2025-07-01 17:26:57 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:26:57 - CoreOCR - [32mINFO[0m - [32m气泡 8 识别文本: 'ふ．．．ふふふ．．．．'[0m
2025-07-01 17:26:57 - CoreOCR - [32mINFO[0m - [32mMangaOCR 识别完成。[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32mOCR 完成 (耗时: 3.29s)[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32mBEFORE_TRANSLATION 钩子修改了文本或参数。[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m步骤 3: 翻译文本...[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m翻译模型: deepseek, 模型名称: deepseek-chat[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本数量: 9[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 0: '：：：ひとついいコト教えたげる'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 1: 'もしお兄ちゃんが急にそんなの体験しちゃったら．．．'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 2: '女の子の快感はね男の１００倍くらい凄いんだって．．．'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 3: 'お言葉に甘えて堪能させて貰おう．．．！'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 4: 'そこまで言うなら仕方ない．．．'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 5: 'そういや勝手に部屋に入んなっての'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 6: 'ほーら早く出てった出てーった！'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 7: 'まあ．．．できればもう少し早起きを．．．'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m待翻译文本 8: 'ふ．．．ふふふ．．．．'[0m
2025-07-01 17:26:57 - CoreProcessing - [32mINFO[0m - [32m调用 translate_text_list 开始 - 模型: deepseek, 模型名: deepseek-chat, API密钥长度: 35, 自定义BaseURL: 无[0m
2025-07-01 17:26:57 - CoreTranslation - [32mINFO[0m - [32m开始批量翻译 9 个文本片段 (使用 deepseek, rpm: 无)...[0m
2025-07-01 17:26:57 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '：：：ひとついいコト教えたげる...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:02 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '：：：ひとついいコト教えたげる...' -> '我告诉你一件好事...'[0m
2025-07-01 17:27:02 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'もしお兄ちゃんが急にそんなの体験しちゃったら．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:06 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'もしお兄ちゃんが急にそんなの体験しちゃったら．．．...' -> '如果哥哥突然经历了那样的事......'[0m
2025-07-01 17:27:06 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: '女の子の快感はね男の１００倍くらい凄いんだって．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:10 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: '女の子の快感はね男の１００倍くらい凄いんだって．．．...' -> '听说女孩子的快感比男人强100倍左右呢……...'[0m
2025-07-01 17:27:10 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'お言葉に甘えて堪能させて貰おう．．．！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:15 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'お言葉に甘えて堪能させて貰おう．．．！...' -> '承蒙厚爱，让我尽情享受吧……！...'[0m
2025-07-01 17:27:15 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'そこまで言うなら仕方ない．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:18 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'そこまで言うなら仕方ない．．．...' -> '既然你都说到这份上了，那也没办法……...'[0m
2025-07-01 17:27:18 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'そういや勝手に部屋に入んなっての...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:22 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'そういや勝手に部屋に入んなっての...' -> '说起来别随便进别人房间啊...'[0m
2025-07-01 17:27:22 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ほーら早く出てった出てーった！...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:27 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ほーら早く出てった出てーった！...' -> '快看啊，已经迅速离开了！...'[0m
2025-07-01 17:27:27 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'まあ．．．できればもう少し早起きを．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:31 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'まあ．．．できればもう少し早起きを．．．...' -> '嗯...要是能再早点起床就好了......'[0m
2025-07-01 17:27:31 - CoreTranslation - [32mINFO[0m - [32m开始翻译文本: 'ふ．．．ふふふ．．．．...' (服务商: deepseek, rpm: 无)[0m
2025-07-01 17:27:35 - CoreTranslation - [32mINFO[0m - [32m最终翻译成功: 'ふ．．．ふふふ．．．．...' -> '呼...呵呵呵......'[0m
2025-07-01 17:27:35 - CoreTranslation - [32mINFO[0m - [32m批量翻译完成。[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32mtranslate_text_list 调用完成，返回结果数量: 9[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m翻译结果:[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 0 翻译结果: '我告诉你一件好事'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 1 翻译结果: '如果哥哥突然经历了那样的事...'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 2 翻译结果: '听说女孩子的快感比男人强100倍左右呢……'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 3 翻译结果: '承蒙厚爱，让我尽情享受吧……！'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 4 翻译结果: '既然你都说到这份上了，那也没办法……'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 5 翻译结果: '说起来别随便进别人房间啊'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 6 翻译结果: '快看啊，已经迅速离开了！'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 7 翻译结果: '嗯...要是能再早点起床就好了...'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m文本 8 翻译结果: '呼...呵呵呵...'[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m翻译完成 (耗时: 38.24s)[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32mAFTER_TRANSLATION 钩子修改了翻译结果。[0m
2025-07-01 17:27:35 - CoreProcessing - [32mINFO[0m - [32m步骤 4: 修复/填充背景 (方法: solid)...[0m
2025-07-01 17:27:35 - CoreInpainting - [32mINFO[0m - [32m创建气泡掩码，图像大小：(2200, 1700, 3), 气泡数量：9[0m
2025-07-01 17:27:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:35 - CoreInpainting - [32mINFO[0m - [32m执行纯色填充，颜色: #FFB5B5FF[0m
2025-07-01 17:27:35 - CoreInpainting - [32mINFO[0m - [32m纯色填充完成，已生成对应的'干净'背景。[0m
2025-07-01 17:27:35 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32m背景处理完成 (耗时: 0.63s)[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32mAFTER_INPAINTING 钩子修改了图像。[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32mBEFORE_RENDERING 钩子修改了渲染参数。[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32m步骤 5: 渲染翻译文本...[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m开始渲染 9 个气泡的文本...[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 36)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 48)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 54)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 57)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 59)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 59px (范围: 12-60)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 55)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 54px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 60px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 59px (范围: 12-60)[0m
2025-07-01 17:27:36 - PathHelpers - [32mINFO[0m - [32m开发环境中，项目根目录: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m成功加载字体: C:\Users\Administrator\Desktop\flask\Saber-Translator\Saber-Translator-main\src\app\static\fonts\msyh.ttc (大小: 58)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 58px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m自动计算的最佳字体大小: 57px (范围: 12-60)[0m
2025-07-01 17:27:36 - CoreRendering - [32mINFO[0m - [32m所有气泡文本渲染完成。[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32m文本渲染完成 (耗时: 0.05s)[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32mAFTER_PROCESSING 钩子修改了最终结果。[0m
2025-07-01 17:27:36 - CoreProcessing - [32mINFO[0m - [32m图像翻译流程完成，总耗时: 42.97s[0m
2025-07-01 17:27:36 - TranslateAPI - [32mINFO[0m - [32m返回参数 keys: ['translated_image', 'clean_image', 'original_texts', 'bubble_texts', 'textbox_texts', 'bubble_coords'][0m
